I"û
<h2 id="ä¸€æ‰¯çŠŠå­">ä¸€ã€æ‰¯çŠŠå­</h2>

<blockquote>
  <p>èµ·å› æ˜¯ä¸ºäº†è£…é€¼ï¼Œæƒ³ç”³è¯·ä¸€ä¸ª StartSSL è¯ä¹¦ç»™åšå®¢è£…ä¸‹é€¼â€¦â€¦ ç›®å‰åšå®¢å…¨éƒ¨é‡‡ç”¨ Dokcer éƒ¨ç½²ï¼Œå‰ç«¯ä¸€ä¸ª Nginx çš„ Contianer åšåä»£ï¼Œåç«¯èµ·äº†é™æ€åšå®¢ã€WPè€åšå®¢ä»€ä¹ˆçš„ä¸€äº›ä¸œè¥¿ï¼›æ‰‹æ®‹å…šå¼€å§‹è‚†æ— å¿Œæƒ®çš„æ”¹å‰ç«¯ Nginx Contianer ä¸­çš„é…ç½®ï¼›å‘ç° <code class="highlighter-rouge">service nginx reload</code> æ²¡æ•ˆæœï¼Œè¿™ç‰¹ä¹ˆå“ªè¡Œï¼Œæœæ–­ <code class="highlighter-rouge">docker restart nginx</code>â€¦..åé¢ä½ æ‡‚çš„ï¼Œ<code class="highlighter-rouge">docker logs nginx</code> å‘ç°é…ç½®æŠ¥é”™äº†â€¦â€¦æ‰€ä»¥å°±æœ‰äº†ä¸‹æ–‡â€¦â€¦</p>
</blockquote>

<!--more-->

<h2 id="äºŒdokcer-contianerimages-å­˜å‚¨ä½ç½®">äºŒã€Dokcer Contianer/Images å­˜å‚¨ä½ç½®</h2>

<h3 id="21images-å­˜å‚¨aufs-æ‘˜è‡ª-dockerone">2.1ã€images å­˜å‚¨(aufs) æ‘˜è‡ª <a href="http://dockone.io/question/70">DockerOne</a></h3>
<ul>
  <li><code class="highlighter-rouge">/var/lib/graph/&lt;image id&gt;</code> ä¸‹é¢æ²¡æœ‰layerç›®å½•ï¼Œåªæœ‰æ¯ä¸ªé•œåƒçš„jsonæè¿°æ–‡ä»¶å’Œlayersizeå¤§å°</li>
  <li><code class="highlighter-rouge">/var/lib/docker/repositories-aufs</code> TagStoreçš„å­˜å‚¨åœ°æ–¹ï¼Œé‡Œé¢æœ‰image idä¸reponame ï¼Œtagä¹‹é—´çš„æ˜ å°„å…³ç³». aufsæ˜¯driverå</li>
  <li><code class="highlighter-rouge">/var/lib/docker/aufs/diff/&lt;image id or container id&gt;</code> æ¯å±‚layerä¸å…¶çˆ¶layerä¹‹é—´çš„æ–‡ä»¶å·®å¼‚ï¼Œæœ‰çš„ä¸ºç©ºï¼Œæœ‰çš„æœ‰ä¸€äº›æ–‡ä»¶(é•œåƒå®é™…å­˜å‚¨çš„åœ°æ–¹)</li>
  <li><code class="highlighter-rouge">/var/lib/docker/aufs/layers/&lt;image id or container id&gt;</code> æ¯å±‚layerä¸€ä¸ªæ–‡ä»¶ï¼Œè®°å½•å…¶çˆ¶layerä¸€ç›´åˆ°æ ¹layerä¹‹é—´çš„IDï¼Œæ¯ä¸ªIDä¸€è¡Œã€‚å¤§éƒ¨åˆ†æ–‡ä»¶çš„æœ€åä¸€è¡Œéƒ½ä¸€æ ·ï¼Œè¡¨ç¤ºç»§æ‰¿è‡ªåŒä¸€ä¸ªlayer.</li>
  <li><code class="highlighter-rouge">/var/lib/docker/aufs/mnt/&lt;image id or container id&gt;</code> æœ‰å®¹å™¨è¿è¡Œæ—¶é‡Œé¢æœ‰æ•°æ®(å®¹å™¨æ•°æ®å®é™…å­˜å‚¨çš„åœ°æ–¹,åŒ…å«æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿæ•°æ®)ï¼Œé€€å‡ºæ—¶é‡Œé¢ä¸ºç©º</li>
</ul>

<h3 id="22contianer-æ–‡ä»¶ä¿®æ”¹">2.2ã€Contianer æ–‡ä»¶ä¿®æ”¹</h3>

<p>æ‰€æœ‰ Contianer æ–‡ä»¶å­˜æ”¾äº <code class="highlighter-rouge">/var/lib/docker/aufs/mnt</code> ç›®å½•ï¼Œæ”¹åºŸæ‰çš„æ–‡ä»¶åä¸º <code class="highlighter-rouge">hexo.conf</code>ï¼Œso  ç›´æ¥å¼€æœ :</p>

<p><img src="https://cdn.oss.link/markdown/hexo_docker_modify_contianerfile.png" alt="hexo_docker_modify_contianerfile" /></p>

<p>ç„¶åç›´æ¥ä¿®æ”¹ä¿å­˜å³å¯ï¼Œæ­¤æ—¶ Contianer å¯æ¢å¤å¯åŠ¨ï¼Œæ­¤å‘å®Œç»“ï¼›ç›®æµ‹ä¼ä¸šçº§åº”ç”¨ä¸ä¼šå‡ºç°è¿™ç§å‘çˆ¹æƒ…å†µï¼Œä¸€èˆ¬éƒ½æ˜¯ç¼–æ’å·¥å…·â€¦â€¦åƒæˆ‘è¿™ä¹ˆä½œæ­»çš„åº”è¯¥æ²¡æœ‰</p>

<p><strong>åšä¸ªå®‰é™çš„ç¾ç”·(dou)å­(bi)</strong>
è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
:ET