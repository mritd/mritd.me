I"‡<blockquote>
  <p>å›½å¤–ä¸€ç›´æœ‰å°æœåŠ¡å™¨é—²ç½®ï¼Œå‡†å¤‡ç”¨æ¥åš Docker é•œåƒä¸‹è½½åŠ é€Ÿï¼Œå†™äº†ä¸ªå°å·¥å…·æ‰“æˆäº†é•œåƒæ”¾äº†å‡ºæ¥ ğŸ˜€</p>
</blockquote>

<p>ohmydocker é•œåƒåŸºäº <code class="highlighter-rouge">docker:dind</code>ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ <strong>Dcoker in Docker</strong> ä¿„ç½—æ–¯å¥—å¨ƒé•œåƒï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:</p>

<h4 id="1å¯åŠ¨é•œåƒ">1ã€å¯åŠ¨é•œåƒ</h4>

<p>é•œåƒå¯åŠ¨åç›¸å½“äºé•œåƒé‡Œè¿è¡Œäº†ä¸€ä¸ª Docker daemon è¿›ç¨‹ï¼Œ<strong>Docker in Docker éœ€è¦ä½¿ç”¨ privileged å¯åŠ¨ï¼Œå¦‚æœè§‰å¾—ä¸å®‰å…¨è¯·ä¸è¦ä½¿ç”¨æœ¬é•œåƒ(æ‹’ç»å–·å­)</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--privileged</span> <span class="nt">-d</span> <span class="nt">--name</span> ohmydocker <span class="nt">-p</span> 1028:1028 mritd/ohmydocker
</code></pre></div></div>

<h4 id="2æ‹‰å–é•œåƒ">2ã€æ‹‰å–é•œåƒ</h4>

<p>ohmydocker å¯åŠ¨åå°†ä¼šæš´éœ²ä¸€ä¸ª <code class="highlighter-rouge">1028</code> çš„ docker api ç«¯å£(tcp)ï¼Œæ­¤æ—¶ç›´æ¥é€šè¿‡è¯¥ç«¯å£è¿æ¥å®¹å™¨å†…çš„ Docker daemon è¿›è¡Œ pull é•œåƒå³å¯</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nt">-H</span> LOCAL_IP:1028 pull gcr.io/google_containers/kubernetes-dashboard-init-amd64:v1.0.1
</code></pre></div></div>

<p>é•œåƒ pull å®Œæˆåä¼šä¿å­˜åœ¨å®¹å™¨é‡Œï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿å­˜åˆ°å®¿ä¸»æœºï¼Œæ‰€ä»¥è¿˜è¦ save å‡ºæ¥</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nt">-H</span> LOCAL_IP:1028 save gcr.io/google_containers/kubernetes-dashboard-init-amd64:v1.0.1 <span class="o">&gt;</span> kubernetes-dashboard-init-amd64.tar
</code></pre></div></div>

<p>é•œåƒ save æˆ tar æ–‡ä»¶åå¤åˆ¶åˆ°å…¶ä»–ä¸»æœºè¿›è¡Œ load å³å¯</p>

<p><strong>å¦‚æœä½ æ„Ÿè§‰è¯¥é•œåƒå¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿è¯·æˆ‘å–æ¯å’–å•¡</strong></p>

<p><img src="https://cdn.oss.link/markdown/zhifubao.png" alt="æ”¯ä»˜å®" /></p>

<p>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
:ET