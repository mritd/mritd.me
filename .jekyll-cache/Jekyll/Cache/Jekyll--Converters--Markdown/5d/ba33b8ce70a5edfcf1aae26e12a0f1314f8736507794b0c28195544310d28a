I"ğ]<h2 id="ä¸€æ¥å£çš„é»˜è®¤æ–¹æ³•å®ç°">ä¸€ã€æ¥å£çš„é»˜è®¤æ–¹æ³•å®ç°</h2>

<p>åœ¨ JDK8 ä¸­ï¼Œæ¥å£å…è®¸æœ‰é»˜è®¤çš„å®ç°æ–¹æ³•ï¼Œè¿™äº›é»˜è®¤çš„å®ç°æ–¹æ³•éœ€è¦ä½¿ç”¨ <code class="highlighter-rouge">default</code> å…³é”®å­—ä¿®é¥°å³å¯ï¼ŒåŒæ—¶å…¶å®ç°ç±»å¯ç›´æ¥è°ƒç”¨è¿™äº›æ–¹æ³•ï¼›ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<h3 id="1è‡ªå®šä¹‰æ¥å£">1ã€è‡ªå®šä¹‰æ¥å£</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestInterface</span> <span class="o">{</span>

    <span class="c1">// æ¥å£æ–¹æ³•</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">();</span>

    <span class="c1">// æ¥å£é»˜è®¤æ–¹æ³•1</span>
    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">defaultMethod1</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// æ¥å£é»˜è®¤æ–¹æ³•2</span>
    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">defaultMethod2</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"World Hello!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<!--more-->

<h3 id="2å®ç°ç±»åŠæµ‹è¯•">2ã€å®ç°ç±»åŠæµ‹è¯•</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestInterfaceImpl</span> <span class="kd">implements</span> <span class="nc">TestInterface</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Test æ–¹æ³•å®ç°"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">TestInterfaceImpl</span> <span class="n">testInterface</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TestInterfaceImpl</span><span class="o">();</span>
        <span class="n">testInterface</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>

        <span class="c1">// default ä¿®é¥°çš„é»˜è®¤æ–¹æ³•å¯ç›´æ¥è°ƒç”¨</span>
        <span class="n">testInterface</span><span class="o">.</span><span class="na">defaultMethod1</span><span class="o">();</span>
        <span class="n">testInterface</span><span class="o">.</span><span class="na">defaultMethod2</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="3é»˜è®¤æ–¹æ³•çš„ç»§æ‰¿">3ã€é»˜è®¤æ–¹æ³•çš„ç»§æ‰¿</h3>

<p>åŒæ™®é€šçš„ç±»ä¸€æ ·ï¼Œæ¥å£çš„é»˜è®¤æ–¹æ³•ä¹Ÿå¯ä»¥è¢«ç»§æ‰¿ï¼›è€Œä¸€æ—¦è¢«ç»§æ‰¿å°±ä¼šå‡ºç°ç»§æ‰¿çš„é¡ºåºå³ä¼˜å…ˆçº§é—®é¢˜ï¼Œæ¥å£çš„é»˜è®¤æ–¹æ³•ç»§æ‰¿éµç»­ä»¥ä¸‹å‡ ä¸ªåŸåˆ™ï¼š</p>

<ul>
  <li>1ã€å½“æŸä¸€ä¸ªç±»å®ç°äº†æŸä¸€æ¥å£åï¼Œé‚£ä¹ˆè¯¥ç±»ä¾¿ç»§æ‰¿äº†è¯¥æ¥å£çš„é»˜è®¤æ–¹æ³•ã€‚</li>
  <li>2ã€å½“æŸä¸€ä¸ªç±»å®ç°æŸä¸€æ¥å£ï¼ŒåŒæ—¶åˆç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œè€Œå¦ä¸€ä¸ªç±»ä¸­æœ‰ä¸€æ–¹æ³•å’Œæ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•ç›¸åŒï¼Œé‚£ä¹ˆæœ€ç»ˆä»¥ç±»ä¸­çš„æ–¹æ³•ä¸ºå‡†ï¼Œå³ <strong>ç±»ä¸­çš„æ–¹æ³•ä¼˜å…ˆçº§é«˜äºæ¥å£ä¸­çš„æ–¹æ³•ã€‚</strong></li>
  <li>3ã€å½“æŸä¸€ç±»å®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œè€Œä¸¤ä¸ªæ¥å£ä¸­åˆæœ‰åŒæ–¹æ³•ç­¾åçš„é»˜è®¤æ–¹æ³•æ—¶ï¼Œå¿…é¡»æ˜¾ç¤ºåœ¨è¯¥ç±»ä¸­è¦†ç›–ä¸¤ä¸ªæ¥å£ä¸­çš„åŒæ–¹æ³•ç­¾åçš„æ–¹æ³•ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ã€‚</li>
  <li>4ã€å½“æŸä¸€ç±»å®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œè€Œå…¶ä¸­ä¸€ä¸ªæ¥å£çš„çˆ¶æ¥å£ï¼Œä¸å¦ä¸€ä¸ªæ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•æ–¹æ³•ç­¾åä¸€è‡´æ—¶ï¼ŒåŒæ ·éœ€è¦æ˜¾ç¤ºè¦†ç›–ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚</li>
  <li>5ã€å½“æŸä¸€ç±»å®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œè€Œå…¶ä¸­ä¸€ä¸ªæ¥å£çš„çˆ¶æ¥å£ï¼Œä¸å¦ä¸€ä¸ªæ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•æ–¹æ³•ç­¾åä¸€è‡´ï¼ŒåŒæ—¶è¯¥æ¥å£åˆè¦†ç›–äº†çˆ¶ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œæ­¤æ—¶ä¹Ÿå¿…é¡»æ˜¾å¼è¦†ç›–è¯¥æ–¹æ³•ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚</li>
</ul>

<h4 id="31ç¬¬2ä¸­æƒ…å†µæµ‹è¯•1çœç•¥">3.1ã€ç¬¬2ä¸­æƒ…å†µæµ‹è¯•(1çœç•¥)</h4>

<p><strong>æœ‰ä¸€é»˜è®¤æ–¹æ³•çš„æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestIntefaceDefaultMethod</span> <span class="o">{</span>

    <span class="c1">// æ¥å£ä¸­çš„é»˜è®¤ test æ–¹æ³•</span>
    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestIntefaceDefaultMethod"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æœ‰ä¸€æ™®é€šæ–¹æ³•çš„çˆ¶ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestInterfaceDefaultMethodClazz</span> <span class="o">{</span>

    <span class="c1">// ç±»ä¸­çš„ test æ–¹æ³•</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestInterfaceDefaultMethodClazz"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ç±»ï¼Œå®ç°å¹¶ç»§æ‰¿ä¸Šè¿°æ¥å£å’Œç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ç»§æ‰¿ä¸€ä¸ªç±»å’Œä¸€ä¸ªæ¥å£</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="kd">extends</span> <span class="nc">TestInterfaceDefaultMethodClazz</span> <span class="kd">implements</span> <span class="nc">TestIntefaceDefaultMethod</span><span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// æ‰“å° TestInterfaceDefaultMethodClazz</span>
        <span class="c1">// è¯´æ˜è°ƒç”¨çš„æ˜¯ç±»ä¸­çš„ test æ–¹æ³•</span>
        <span class="k">new</span> <span class="nf">Test</span><span class="o">().</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="32ç¬¬3ä¸­æƒ…å†µæµ‹è¯•">3.2ã€ç¬¬3ä¸­æƒ…å†µæµ‹è¯•</h4>

<p><strong>ç¬¬ä¸€ä¸ªæœ‰é»˜è®¤æ–¹æ³•çš„æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestIntefaceDefaultMethod1</span> <span class="o">{</span>

    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestIntefaceDefaultMethod1"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>ç¬¬äºŒä¸ªæœ‰é»˜è®¤æ–¹æ³•çš„æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestIntefaceDefaultMethod2</span> <span class="o">{</span>

    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestIntefaceDefaultMethod2"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>åŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£çš„æµ‹è¯•ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestExtendsInteface</span> <span class="kd">implements</span> <span class="nc">TestIntefaceDefaultMethod1</span><span class="o">,</span><span class="nc">TestIntefaceDefaultMethod2</span><span class="o">{</span>

    <span class="c1">// å¿…é¡»æ˜¾å¼è¦†ç›– å¦åˆ™ç¼–è¯‘ä¸é€šè¿‡</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// åœ¨è¿™é‡Œæ˜¾å¼çš„è°ƒç”¨è¦ä½¿ç”¨ å“ªä¸ªå®ç°æ¥å£çš„æ–¹æ³•</span>
        <span class="nc">TestIntefaceDefaultMethod1</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">TestExtendsInteface</span><span class="o">().</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="33ç¬¬4ç§æƒ…å†µæµ‹è¯•">3.3ã€ç¬¬4ç§æƒ…å†µæµ‹è¯•</h4>

<p><strong>TestIntefaceDefaultMethod1ã€TestIntefaceDefaultMethod2 æ¥å£ä¸ä¸Šé¢ç›¸åŒï¼Œæ–°å¢ä¸€ä¸ª TestIntefaceDefaultMethod3 æ¥å£ï¼Œè¯¥æ¥å£ç»§æ‰¿è‡ª TestIntefaceDefaultMethod1ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªç©ºçš„æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestIntefaceDefaultMethod3</span> <span class="kd">extends</span> <span class="nc">TestIntefaceDefaultMethod1</span><span class="o">{</span>

<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ç±»åŒæ—¶å®ç° 2ã€3ä¸¤ä¸ªæ¥å£ï¼Œå…¶ä¸­3æ¥å£ç»§æ‰¿1æ¥å£ï¼Œå¹¶ä¸”ä¸ºç©ºæ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestExtendsInteface</span> <span class="kd">implements</span> <span class="nc">TestIntefaceDefaultMethod3</span><span class="o">,</span><span class="nc">TestIntefaceDefaultMethod2</span><span class="o">{</span>

    <span class="c1">// åŒæ ·å¿…é¡»æ˜¾å¼è¦†ç›– å¦åˆ™ç¼–è¯‘æŠ¥é”™</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// åœ¨è¿™é‡Œæ˜¾å¼çš„è°ƒç”¨è¦ä½¿ç”¨ å“ªä¸ªå®ç°æ¥å£çš„æ–¹æ³•</span>
        <span class="nc">TestIntefaceDefaultMethod3</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">TestExtendsInteface</span><span class="o">().</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="34ç¬¬5ç§æƒ…å†µ">3.4ã€ç¬¬5ç§æƒ…å†µ</h4>

<p><strong>TestIntefaceDefaultMethod3 è¦†ç›–äº† TestIntefaceDefaultMethod1 çš„é»˜è®¤æ–¹æ³•</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestIntefaceDefaultMethod3</span> <span class="kd">extends</span> <span class="nc">TestIntefaceDefaultMethod1</span><span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="k">default</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestIntefaceDefaultMethod3"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestExtendsInteface</span> <span class="kd">implements</span> <span class="nc">TestIntefaceDefaultMethod3</span><span class="o">,</span><span class="nc">TestIntefaceDefaultMethod2</span><span class="o">{</span>

    <span class="c1">// åŒæ ·å¿…é¡»æ˜¾å¼è¦†ç›–</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TestExtendsInteface"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">TestExtendsInteface</span><span class="o">().</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="35æ€»ç»“">3.5ã€æ€»ç»“</h4>

<p><strong>å•æ¥å£å®ç°æƒ…å†µä¸‹ï¼Œé»˜è®¤æ–¹æ³•å¯ä»¥ç›´æ¥ç”¨ï¼Œå¤šæ¥å£å®ç°æƒ…å†µä¸‹ä¸€æ—¦å‡ºç°åŒæ–¹æ³•ç­¾åçš„é»˜è®¤æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»æ˜¾å¼è¦†ç›–ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ã€‚</strong></p>

<h2 id="äºŒæ¥å£çš„é™æ€æ–¹æ³•">äºŒã€æ¥å£çš„é™æ€æ–¹æ³•</h2>

<p>JDK 8 ä¸­çš„æ¥å£å…è®¸ä½¿ç”¨é™æ€çš„æ–¹æ³•å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<p><strong>é™æ€æ–¹æ³•æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestStaticInterface</span> <span class="o">{</span>
    <span class="c1">// é™æ€æ–¹æ³•</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testStaticMethod</span><span class="o">(){</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"JDK8 Static Method!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestStaticInterfaceImpl</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// ç›´æ¥è°ƒç”¨</span>
        <span class="nc">TestStaticInterface</span><span class="o">.</span><span class="na">testStaticMethod</span><span class="o">();</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="ä¸‰lambda-è¡¨è¾¾å¼">ä¸‰ã€Lambda è¡¨è¾¾å¼</h2>

<p>Lambda è¡¨è¾¾å¼æ˜¯ JDK8 æ–°å¢çš„é‡è¦ç‰¹æ€§ï¼ŒLambda ä½¿ Java å…·æœ‰äº†ç±»ä¼¼å‡½æ•°å¼ç¼–ç¨‹çš„é£æ ¼ï¼Œå…¶å® Lambda è¡¨è¾¾å¼ä¹Ÿæ˜¯ä¸€ä¸ª â€œè¯­æ³•ç³–â€ï¼Œå…¶å®è´¨ä¹Ÿæ˜¯ç”±ç¼–è¯‘å™¨æ ¹æ®è¡¨è¾¾å¼æ¨æ–­æœ€ç»ˆç”ŸæˆåŸå§‹è¯­æ³•çš„å­—èŠ‚ç æ–¹å¼ã€‚</p>

<h3 id="1åŸºæœ¬è¯­æ³•">1ã€åŸºæœ¬è¯­æ³•</h3>

<p>Lambda åŸºæœ¬è¯­æ³•ä»¥ <code class="highlighter-rouge">(argument) -&gt; (body)</code> è¡¨ç¤ºï¼Œä»¥ä¸‹ä¸ºå…·ä½“çš„ä¸€äº›ä¾‹å­ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ä¸éœ€è¦å‚æ•°ï¼Œè¿”å›å€¼ä¸º5</span>
<span class="o">()</span> <span class="o">-&gt;</span> <span class="mi">5</span>
<span class="c1">// æ¥å—ä¸€ä¸ª String å‹çš„å‚æ•°ï¼Œè¿”å›å€¼ä¸º å­—ç¬¦ä¸²+Hello World</span>
<span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">str</span><span class="o">+</span><span class="s">" Hello World"</span>
<span class="c1">// æ¥å—ä¸¤ä¸ª int å‹çš„å‚æ•°ï¼Œè¿”å›ä¸¤æ•°ä¹‹å’Œ</span>
<span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span><span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>
<span class="c1">// æ¥å—ä¸€ä¸ª String å‹çš„å‚æ•°ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ï¼Œä¸åæ‚”ä»»ä½•å‚æ•°(void)</span>
<span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">)</span>
</code></pre></div></div>

<h3 id="2lambda-è¡¨è¾¾å¼ç»“æ„">2ã€Lambda è¡¨è¾¾å¼ç»“æ„</h3>

<ul>
  <li>ä¸€ä¸ª Lambda å¯ä»¥æœ‰é›¶ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°ï¼›</li>
  <li>å‚æ•°ç±»å‹å¯ä»¥å£°æ˜ï¼Œä¹Ÿå¯ä»¥ç”±ä¸Šä¸‹æ–‡æ¨æ–­ï¼Œå¦‚ <code class="highlighter-rouge">(int a)</code> ä¸ <code class="highlighter-rouge">(a)</code> æ•ˆæœä¸€è‡´ï¼›</li>
  <li>æ‰€æœ‰å‚æ•°åŒ…å«åœ¨åœ†æ‹¬å·å†…ï¼Œå‚æ•°ä¹‹é—´ç”¨åˆ†å·åˆ†éš”ï¼Œå¦‚ <code class="highlighter-rouge">(int a,int b)</code> æˆ– <code class="highlighter-rouge">(a,b)</code>;</li>
  <li>ç©ºåœ†æ‹¬å·ä»£è¡¨å‚æ•°é›†ä¸ºç©ºï¼Œå¦‚ <code class="highlighter-rouge">() -&gt; 2</code>ï¼›</li>
  <li>å½“åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸”ç±»å‹å¯è¢«æ¨å€’æ—¶ï¼Œåœ†æ‹¬å·å¯çœç•¥ï¼Œå¦‚ <code class="highlighter-rouge">a -&gt; a+1</code>ï¼›</li>
  <li>Lambda è¡¨è¾¾å¼ä¸»ä½“å¯åŒ…å«ä¸€æ¡æˆ–å¤šæ¡è¯­å¥ï¼›</li>
  <li>å¦‚æœ Lamdba è¡¨è¾¾å¼ä¸»ä½“éƒ¨åˆ†åªæœ‰ä¸€æ¡è¯­å¥ï¼Œé‚£ä¹ˆèŠ±æ‹¬å·å¯ä»¥çœç•¥ï¼ŒåŒæ—¶åŒ¿åå‡½æ•°è¿”å›ç±»å‹ä¸è¯¥è¯­å¥è¿”å›ç±»å‹ä¸€è‡´ï¼Œå¦‚ <code class="highlighter-rouge">(int a,int b) -&gt; return a+b</code>ï¼›</li>
  <li>å¦‚æœ Lambda è¡¨è¾¾å¼ä¸»ä½“éƒ¨åˆ†å«æœ‰å¤šæ¡è¯­å¥ï¼Œåˆ™å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å·ï¼Œæ­¤æ—¶åŒ¿åå‡½æ•°è¿”å›ç±»å‹ä¸è¯¥ä»£ç å—è¿”å›ä¸€è‡´ï¼Œæ²¡æœ‰è¿”å›åˆ™ä¸ºç©ºã€‚</li>
</ul>

<h3 id="3lambda-è¡¨è¾¾å¼åŸç†å‡½æ•°å¼æ¥å£">3ã€Lambda è¡¨è¾¾å¼åŸç†(å‡½æ•°å¼æ¥å£)</h3>

<p>åœ¨ Java ä¸­æœ‰ä¸¤ç§æè¿°å±‚é¢çš„ç‰¹æ®Šæ¥å£ï¼š</p>

<p><strong>Marker(æ ‡è®°) æ¥å£</strong>ï¼šè¿™ç§æ¥å£å†…éƒ¨ä¸å®šä¹‰ä»»ä½•å¾…å®ç°çš„æŠ½è±¡æ–¹æ³•ï¼Œå°±åƒä»–çš„åå­—é‚£æ ·ï¼Œåªç”¨ä½œæ ‡è®°ä¸€ä¸ªç±»ï¼Œä»è€Œä½¿å…¶èƒ½å¤Ÿé€šè¿‡ <code class="highlighter-rouge">instanceof</code> å…³é”®å­—æ£€æŸ¥ã€‚</p>

<p><strong>Function(å‡½æ•°) æ¥å£</strong>ï¼šä¸æ ‡è®°æ¥å£ä¸åŒçš„æ˜¯ï¼Œè¿™ç§æ¥å£å†…éƒ¨å†…æœ‰ä¸€ä¸ªå¾…å®ç°çš„æŠ½è±¡æ–¹æ³•ï¼Œæ­¤ç§æ¥å£çš„ä½œç”¨æ˜¯æä¾›å‡½æ•°å¼ç¼–ç¨‹éœ€è¦ï¼Œä¾‹å¦‚ä¸º Lambda è¡¨è¾¾å¼æä¾›ä¾¿åˆ©ã€‚</p>

<p><strong>å…¶å®æ¯ä¸ª Lambda è¡¨è¾¾å¼éƒ½éšå¼çš„èµ‹å€¼ç»™äº†å‡½æ•°å¼æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª Lambda è¡¨è¾¾å¼å…¶å®éƒ½æ˜¯å‡½æ•°å¼æ¥å£çš„å†…éƒ¨æŠ½è±¡æ–¹æ³•å®ç°ï¼›</strong>ä»è€Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡ Lambda è¡¨è¾¾å¼æ¥å®Œæˆå¯¹å‡½æ•°å¼æ¥å£çš„ç®€åŒ–æ“ä½œï¼Œä¾‹å¦‚ä¸‹é¢çš„ Runnable æ¥å£ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>å½“ä¸æŒ‡æ˜ Lambda è¡¨è¾¾å¼æ˜¯å“ªä¸ªå‡½æ•°å¼æ¥å£çš„å®ç°æ—¶ï¼Œç¼–è¯‘å™¨è¿˜å¯ä»¥è‡ªåŠ¨æ ¹æ®æ„é€ å™¨å°† Lambda èµ‹å€¼ç»™å¯¹åº”çš„å‡½æ•°å¼æ¥å£ï¼Œ</strong>å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLambda</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">)).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ä»¥ä¸Šä»£ç ï¼Œç”±äº <code class="highlighter-rouge">Thread</code> ç±»å­˜åœ¨ä¸€ä¸ªæ¥å— <code class="highlighter-rouge">Runnable</code> æ¥å£çš„æ„é€ å™¨ï¼Œè€Œ <code class="highlighter-rouge">Runnable</code> åˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­å°† Lambda è¡¨è¾¾å¼éšå¼çš„èµ‹å€¼ç»™äº† <code class="highlighter-rouge">Runnable</code> æ¥å£ã€‚</p>

<p><strong>æ³¨æ„ï¼šæ ¹æ®æœ¬äººæµ‹è¯•ï¼Œå½“æŸä¸ªç±»æœ‰ä¸¤ä¸ªæœ‰å‚æ„é€ å™¨ï¼Œä¸”ä¸¤ä¸ªæœ‰å‚æ„é€ å™¨å…¥å‚å…¨éƒ¨ä¸ºå‡½æ•°å¼æ¥å£ï¼ŒåŒæ—¶è¯¥å‡½æ•°å¼æ¥å£è¿”å›å€¼ç›¸åŒæ—¶ï¼ŒLambda è¡¨è¾¾å¼å¿…é¡»å¼ºåˆ¶è½¬æ¢ä¸ºå…¶ä¸­ä¸€ç§ç±»å‹ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•æ¨æ–­å‡º Lambda è¡¨è¾¾å¼åˆ°åº•æ˜¯å®ç°çš„é‚£ç§å‡½æ•°å¼æ¥å£ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</strong></p>

<p><strong>ä¸¤ä¸ªå‡½æ•°å¼æ¥å£ï¼šInterface1ã€Interface2</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Interface1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Interface2</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>å¯¹åº”çš„ä½¿ç”¨ç±»ï¼šTestLambdaInterface</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLambdaInterface</span> <span class="o">{</span>

    <span class="c1">// ä¸¤ä¸ªæœ‰å‚æ„é€ å™¨ï¼Œå‚æ•°éƒ½ä¸ºå‡½æ•°å¼æ¥å£</span>
    <span class="kd">public</span> <span class="nf">TestLambdaInterface</span> <span class="o">(</span><span class="nc">Interface1</span> <span class="n">interface1</span><span class="o">){</span>
        <span class="n">interface1</span><span class="o">.</span><span class="na">sayHello</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">TestLambdaInterface</span> <span class="o">(</span><span class="nc">Interface2</span> <span class="n">interface2</span><span class="o">){</span>
        <span class="n">interface2</span><span class="o">.</span><span class="na">sayHello</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// ç›´æ¥è¿™ä¹ˆå¹²æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„</span>
        <span class="c1">// new TestLambdaInterface(() -&gt; System.out.println("Hello World!"));</span>

        <span class="c1">// å¿…é¡»å¼ºåˆ¶è½¬æ¢ä¸ºæŸä¸€å…·ä½“æ¥å£ç±»å‹</span>
        <span class="k">new</span> <span class="nf">TestLambdaInterface</span><span class="o">((</span><span class="nc">Interface1</span><span class="o">)()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="4functionalinterface-æ³¨è§£">4ã€FunctionalInterface æ³¨è§£</h3>

<p>JDK 8 æ–°å¢äº† <code class="highlighter-rouge">FunctionalInterface</code> æ³¨è§£ï¼Œè¯¥æ³¨è§£åªèƒ½ä½œç”¨åœ¨æ¥å£ä¸Šï¼Œ<strong>ç”¨äºæ ‡æ³¨è¯¥æ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼›</strong>ä»è€Œæ˜¾å¼çš„å‘Šè¯‰ Lambda è¡¨è¾¾å¼å°†å…¶èµ‹å€¼åˆ°æ­¤æ¥å£ï¼Œè¿™ä¸ªæ³¨è§£æ ‡æ³¨äº†å‡½æ•°å¼æ¥å£ï¼Œ<strong>åŒæ—¶ä¹Ÿé™å®šäº†è¯¥æ¥å£å†…åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œ</strong>å¦åˆ™å°†æ— æ³•ç¼–è¯‘é€šè¿‡ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<p><strong>æ ‡æ³¨ @FunctionalInterface æ³¨è§£çš„å‡½æ•°å¼æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestLambdaAnnotation</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ä½¿ç”¨ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLambdaAnnotationImpl</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">TestLambdaAnnotationImpl</span><span class="o">(</span><span class="nc">TestLambdaAnnotation</span> <span class="n">lambdaAnnotation</span><span class="o">){</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">TestLambdaAnnotationImpl</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="5lambda-è¡¨è¾¾å¼ä½œç”¨åŸŸ">5ã€Lambda è¡¨è¾¾å¼ä½œç”¨åŸŸ</h3>

<p>Lambda è¡¨è¾¾å¼å’ŒåŸæ¥çš„åŒ¿åå†…éƒ¨ç±»ç›¸ä¼¼ï¼Œä½†åœ¨ä½œç”¨åŸŸç­‰æ–¹é¢è¿˜æœ‰äº›ç»†å¾®å·®åˆ«ï¼š</p>

<h4 id="51å±€éƒ¨å˜é‡">5.1ã€å±€éƒ¨å˜é‡</h4>

<p>å±€éƒ¨å˜é‡ä¸å¿…ä½¿ç”¨ <code class="highlighter-rouge">final</code> å…³é”®å­—ä¿®é¥°ï¼Œå³å¯åœ¨ Lambda è¡¨è¾¾å¼ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æ­¤åçš„è¯¥å˜é‡ä¸å¯æ”¹å˜ï¼Œç›¸å½“äºéšå¼ finalï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLocalVariables</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// ä¸å¿…å£°æ˜ä¸º final</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>

        <span class="c1">// ç›´æ¥ä½¿ç”¨</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">)).</span><span class="na">start</span><span class="o">();</span>

        <span class="c1">// ä¸å¯æ”¹å˜è¯¥å˜é‡,å¦åˆ™ç¼–è¯‘æŠ¥é”™</span>
        <span class="c1">// a = 20;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="52å¯¹è±¡å±æ€§ä¸é™æ€å­—æ®µ">5.2ã€å¯¹è±¡å±æ€§ä¸é™æ€å­—æ®µ</h4>

<p>åŒåŒ¿åå¯¹è±¡ä¸€æ ·ï¼ŒLambda è¡¨è¾¾å¼å¯¹äºå¯¹è±¡çš„å±æ€§å’Œé™æ€å±æ€§æ—¢å¯è¯»åˆå¯å†™ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestField</span> <span class="o">{</span>

    <span class="c1">// æ™®é€šå±æ€§</span>
    <span class="nc">String</span> <span class="n">field</span> <span class="o">=</span> <span class="s">"Hello World"</span><span class="o">;</span>

    <span class="c1">// é™æ€å±æ€§</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testScope</span><span class="o">()</span> <span class="o">{</span>


        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>

            <span class="n">a</span> <span class="o">=</span><span class="mi">20</span><span class="o">;</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>

            <span class="n">field</span> <span class="o">=</span> <span class="s">"Test Scope"</span><span class="o">;</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>

        <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">TestField</span><span class="o">().</span><span class="na">testScope</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="53æ¥å£çš„é»˜è®¤æ–¹æ³•">5.3ã€æ¥å£çš„é»˜è®¤æ–¹æ³•</h4>

<p>åœ¨æ™®é€šçš„æ¥å£ä¸­ï¼ŒJDK8åæ–°å¢çš„ default å…³é”®å­—å¯å®ç°è®©æ¥å£æœ‰å…¶é»˜è®¤å®ç°æ–¹æ³•ï¼Œå¤–éƒ¨æ¥å£å¯¹è±¡ä¸å¿…å®ç°ï¼Œä¸”å¯ç›´æ¥è°ƒç”¨ï¼Œç„¶è€Œåœ¨ Lambda è¡¨è¾¾å¼ä¸­ï¼Œä¸æ”¯æŒç›´æ¥è°ƒç”¨è¿™äº›é»˜è®¤æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestDefaultMethod</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">LambdaInterface</span> <span class="n">lambdaInterface</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">);</span>

        <span class="c1">// ä»¥ä¸‹ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘</span>
        <span class="c1">// LambdaInterface lambdaInterface = () -&gt; testDeafaultMethod();</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="54this-å…³é”®å­—">5.4ã€this å…³é”®å­—</h4>

<p>åœ¨å†…éƒ¨ç±»ä¸­ï¼Œthis å…³é”®å­—æŒ‡å‘å½“å‰å†…éƒ¨ç±»å¯¹è±¡è‡ªå·±ï¼Œè€Œåœ¨ Lambda è¡¨è¾¾å¼ä¸­ï¼Œthis å…³é”®å­—æŒ‡å‘çš„æ˜¯ Lambda è¡¨è¾¾å¼å¤–éƒ¨çš„ç±»å¯¹è±¡ã€‚</p>

<h3 id="6lambda-ä¾‹å­">6ã€Lambda ä¾‹å­</h3>

<p>ä»¥ä¸‹ä¸ºä¸€ä¸ªåˆ©ç”¨ Lambda è¡¨è¾¾å¼ç®€å†™ forEach çš„ä¾‹å­ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLambdaForEach</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¾…æ’åºçš„ list</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">[]</span> <span class="o">=</span> <span class="o">{</span><span class="s">"a"</span><span class="o">,</span><span class="s">"b"</span><span class="o">,</span><span class="s">"c"</span><span class="o">,</span><span class="s">"d"</span><span class="o">,</span><span class="s">"e"</span><span class="o">};</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>

        <span class="c1">// åŸå§‹çš„ forEach éå†</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="nl">strTmp:</span><span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">strTmp</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// Lambda è¡¨è¾¾å¼éå†</span>
        <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="nc">String</span> <span class="n">strTmp</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">strTmp</span><span class="o">));</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>é™¤äº† forEach å¤–è¿˜å¯ä»¥ç®€å†™ Threadï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestLambdaThread</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Lambda Thread Test!"</span><span class="o">)).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="å››æ–¹æ³•å¼•ç”¨">å››ã€æ–¹æ³•å¼•ç”¨</h2>

<p>Lambda è¡¨è¾¾å¼æä¾›äº†ä¸€ç§åŒ¿åæ–¹æ³•å®ç°ï¼Œå¹¶å…è®¸æˆ‘ä¹ˆä»¥å‡½æ•°æ¥å£çš„å½¢å¼ä½¿ç”¨å®ƒï¼›å¯¹äºå·²æœ‰çš„æ–¹æ³•ï¼ŒJDK8 æä¾›äº† <strong>æ–¹æ³•å¼•ç”¨(Method references)</strong> æ¥å®ç°åŒæ ·çš„ç‰¹æ€§ï¼›æ–¹æ³•å¼•ç”¨å¹¶ä¸éœ€è¦æä¾›æ–¹æ³•ä½“ï¼Œè€Œåªéœ€ä½¿ç”¨å·²æœ‰çš„æ–¹æ³•åå³å¯ç›´æ¥å¼•ç”¨å·²å­˜åœ¨çš„æ–¹æ³•ã€‚</p>

<h3 id="1æ–¹æ³•å¼•ç”¨æ›¿ä»£-lambda-è¡¨è¾¾å¼">1ã€æ–¹æ³•å¼•ç”¨æ›¿ä»£ Lambda è¡¨è¾¾å¼</h3>

<p>ä»¥ä¸‹ä¸ºä¸€ä¸ªä½¿ç”¨æ–¹æ³•å¼•ç”¨æ¥æ›¿ä»£ Lambda è¡¨è¾¾å¼çš„ä¾‹å­ï¼š</p>

<p><strong>POJO</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Persion</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="c1">//çœç•¥ SET GET</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>ä¸€ä¸ªå‡½æ•°æ¥å£</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestInterface</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Persion</span> <span class="n">persion</span><span class="o">);</span>

<span class="o">}</span>
</code></pre></div></div>

<p><strong>æµ‹è¯•ç±»</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestMethodReferences</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// ä½¿ç”¨ Lambda è¡¨è¾¾å¼</span>
        <span class="nc">TestInterface</span> <span class="n">testInterface</span> <span class="o">=</span> <span class="o">(</span><span class="n">persion</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">persion</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>

        <span class="c1">// ä½¿ç”¨æ–¹æ³•å¼•ç”¨</span>
        <span class="nc">TestInterface</span> <span class="n">testInterface1</span> <span class="o">=</span> <span class="nl">Persion:</span><span class="o">:</span><span class="n">getName</span><span class="o">;</span>

    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<h3 id="2æ–¹æ³•å¼•ç”¨çš„ç§ç±»">2ã€æ–¹æ³•å¼•ç”¨çš„ç§ç±»</h3>

<p>JDK 8ä¸­æ–¹æ³•å¼•ç”¨å¤§è‡´åˆ†ä¸ºä»¥ä¸‹6ç§ï¼š</p>

<ul>
  <li>é™æ€æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">ClassName::methodName</code></li>
  <li>å®ä¾‹ä¸Šçš„å®ä¾‹æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">instanceReference::methodName</code></li>
  <li>è¶…ç±»ä¸Šçš„å®ä¾‹æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">super::methodName</code></li>
  <li>ç±»å‹ä¸Šçš„å®ä¾‹æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">ClassName::methodName</code></li>
  <li>æ„é€ æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">Class::new</code></li>
  <li>æ•°ç»„æ„é€ æ–¹æ³•å¼•ç”¨ <code class="highlighter-rouge">TypeName[]::new</code></li>
</ul>

<h3 id="3æ–¹æ³•å¼•ç”¨ä¸-lambda-è¡¨è¾¾å¼">3ã€æ–¹æ³•å¼•ç”¨ä¸ Lambda è¡¨è¾¾å¼</h3>

<p><strong>æ— è®ºæ˜¯æ–¹æ³•å¼•ç”¨è¿˜æ˜¯ Lambda è¡¨è¾¾å¼ï¼Œå…¶æœ€ç»ˆåŸç†å’Œæ‰€è¦å®ç°çš„å°±æ˜¯å½“æŸä¸€ä¸ªç±»ä¸­ï¼Œæˆ–è€…æ¥å£ä¸­çš„æŸä¸€æ–¹æ³•ï¼Œå…¶å…¥å‚ä¸ºä¸€ä¸ªæ¥å£ç±»å‹æ—¶ï¼Œä½¿ç”¨æ–¹æ³•å¼•ç”¨æˆ–è€… Lambda è¡¨è¾¾å¼å¯ä»¥å¿«é€Ÿè€Œç®€æ´çš„å®ç°è¿™ä¸ªæ¥å£ï¼Œè€Œä¸å¿…ç¹ççš„åˆ›å»ºä¸€ä¸ªè¿™ä¸ªæ¥å£çš„å¯¹è±¡æˆ–è€…ç›´æ¥å®ç°ã€‚</strong></p>

<p>å‚è€ƒæ–‡ç« ï¼š</p>

<ul>
  <li><a href="http://news.oneapm.com/java-8-oneapm-lambda/">http://news.oneapm.com/java-8-oneapm-lambda/</a></li>
  <li><a href="https://blog.chou.it/2014/03/java-8-new-features/">https://blog.chou.it/2014/03/java-8-new-features/</a></li>
  <li><a href="http://www.cnblogs.com/figure9/p/java-8-lambdas-insideout-language-features.html">http://www.cnblogs.com/figure9/p/java-8-lambdas-insideout-language-features.html</a></li>
</ul>

<h2 id="äº”stream-api">äº”ã€Stream API</h2>

<p>JDK 8 å¸¦æ¥äº†å¼ºå¤§çš„æµå¼ APIï¼Œç”¨äºç®€åŒ–é›†åˆæ“ä½œï¼›æµå¼(Stream) API é…åˆ Lambda è¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ â€œå¯å˜èº«è¶…çº§è‹±é›„â€ã€‚</p>

<h3 id="1strean-api-ç®€ä»‹">1ã€Strean API ç®€ä»‹</h3>

<p>æ–°å¢çš„ <code class="highlighter-rouge">Stream API</code> ä¸»è¦å›´ç»• <code class="highlighter-rouge">java.util.stream</code> åŒ…ä¸‹çš„ <code class="highlighter-rouge">Stream</code> ç±»å±•å¼€ï¼ŒStream API å¹¶éå…¶è¯­ä¹‰ä¸Šçš„ â€œæµâ€ï¼Œå®ƒä¸åŒäºä»»ä½• I/O æµï¼Œå®è´¨ä¸Š <strong>Stream å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªåŠ å¼ºç‰ˆ Iteratorï¼Œä¸åŒçš„æ˜¯ Stream å¯ä»¥å¹¶è¡Œå¹¶é«˜æ•ˆçš„å¯¹é›†åˆè¿›è¡Œ â€œç¥çš„â€ å¥‡æ“ä½œ</strong>ï¼Œå¦‚ä¸‹ä¸€ä¸ªå°ä¾‹å­ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test1</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¾…å¤„ç†çš„ List</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>

        <span class="c1">// ä¼ ç»Ÿçš„è¿‡æ»¤æ‰å…ƒç´ </span>

        <span class="c1">// å®šä¹‰ä¸€ä¸ª ArrayList ç”¨äºå­˜æ”¾ç»“æœ</span>
        <span class="nc">List</span> <span class="n">resultList1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="c1">// å¾ªç¯éå†</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="nl">tmp:</span><span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">tmp</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">){</span>
                <span class="n">resultList1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tmp</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resultList1</span><span class="o">);</span>


        <span class="c1">// Stream API + Lambda è¿‡æ»¤</span>

        <span class="c1">// å®šä¹‰ç»“æœ List</span>
        <span class="nc">List</span> <span class="n">resultList2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="c1">// Stream+Lambda æ“ä½œ</span>
        <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">((</span><span class="n">tmp</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">tmp</span> <span class="o">&lt;</span><span class="mi">4</span><span class="o">).</span><span class="na">forEach</span><span class="o">((</span><span class="n">result</span><span class="o">)-&gt;</span> <span class="n">resultList2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">result</span><span class="o">));</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resultList2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="2stream-è¯­æ³•">2ã€Stream è¯­æ³•</h3>

<p>Stream çš„å¤§ä½“è¯­æ³•å¦‚ä¸‹ï¼š</p>

<p><img src="https://cdn.oss.link/markdown/hexo_java8_stream1.jpg" alt="hexo_java8_stream1" /></p>

<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œçº¢è‰²éƒ¨åˆ†ä¸»è¦æ˜¯åˆ›å»ºä¸€ä¸ª Streamï¼Œå¯ä»¥ä½¿ä»é›†åˆä¸­åˆ›å»ºæˆ–è€…é€‰æ‹©å…¶å®ƒæ–¹å¼ï¼Œç»¿è‰²éƒ¨åˆ†ä»£è¡¨å¯¹è¿™ä¸ªæµçš„å¤„ç†æ“ä½œï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªï¼Œæ¯”å¦‚è¿ç»­ filterï¼Œ<strong>æ¯æ¬¡æ“ä½œåéƒ½å¯èƒ½è¿”å›å¤„ç†åçš„æµå¯¹è±¡ä»¥ä¾¿ä¸‹æ¬¡é‡å¤æ“ä½œï¼›</strong>æœ€åçš„è“è‰²éƒ¨åˆ†ä»£è¡¨æœ€ç»ˆçš„ â€œæ±‡èšâ€ åŠ¨ä½œï¼Œ<strong>å®è´¨ä¸Šä¸­é—´éƒ¨åˆ†å¯¹æµåšçš„å„ç§åŠ¨ä½œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå› ä¸ºæµä¸å¯é€†æ€§ï¼Œæ— æ³•é‡å¤æ“ä½œï¼Œæ‰€ä»¥åªæœ‰åˆ°æœ€åçš„æ±‡èšåŠ¨ä½œæ—¶æ‰ä¼šä¸€æ¬¡æ‰§è¡Œåˆ°åº•ã€‚â‰ˆ</strong></p>

<h3 id="3åˆ›å»º-stream">3ã€åˆ›å»º Stream</h3>

<p>åˆ›å»ºä¸€ä¸ª Stream å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å…¶é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºï¼Œå¦ä¸€ç§é€šè¿‡ <code class="highlighter-rouge">Collection</code> æ¥å£é»˜è®¤æ–¹æ³•åˆ›å»ºï¼›</p>

<h4 id="31é™æ€å·¥å‚åˆ›å»º-stream">3.1ã€é™æ€å·¥å‚åˆ›å»º Stream</h4>

<p>Stream ç±»ä¸­æä¾›äº†ä¸‰ä¸ªé™æ€å·¥å‚æ–¹æ³• <code class="highlighter-rouge">Stream.of()</code> ã€ <code class="highlighter-rouge">Stream.generate()</code> å’Œ <code class="highlighter-rouge">Stream.iterate()</code> æ¥åˆ›å»º Streamï¼Œå…¶ä¸­ <code class="highlighter-rouge">Stream.of()</code> æœ‰ä¸¤ä¸ªé‡è½½ï¼Œä¸€ä¸ªæ¥å—å›ºå®šé•¿åº¦çš„å‚æ•°ï¼Œä¸€ä¸ªæ¥å—å¯å˜é•¿åº¦çš„å‚æ•°.</p>

<p><strong>Stream.of() åˆ›å»º Stream</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// å›ºå®šé•¿åº¦å‚æ•°</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream1</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"aa"</span><span class="o">);</span>

<span class="c1">// å¯å˜é•¿åº¦å‚æ•°</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">stream2</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Stream.generate() åˆ›å»º Stream</strong></p>

<p><code class="highlighter-rouge">Stream.generate()</code> æ–¹æ³•ç”¨äºç”Ÿæˆä¸€ä¸ªæ— é™é•¿åº¦çš„ Streamï¼Œå…¶æ¥å—ä¸€ä¸ª <code class="highlighter-rouge">Supplier</code> æ¥å£ä½œä¸ºå…¥å‚ï¼Œè¯¥æ¥å£å¯çœ‹ä½œæ˜¯ Stream å†…éƒ¨å…ƒç´ çš„å¯¹è±¡å·¥å‚ï¼Œæ¯æ¬¡è°ƒç”¨å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Stream</span> <span class="n">stream3</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">generate</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">());</span>
</code></pre></div></div>

<p><strong>Stream.iterate() åˆ›å»º Stream</strong></p>

<p>è¯¥æ–¹æ³•åŒæ ·ç”¨äºåˆ›å»ºä¸€ä¸ªæ— é™é•¿åº¦çš„ Streamï¼Œä¸åŒçš„æ˜¯ <code class="highlighter-rouge">iterate()</code> æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯çœ‹ä½œæ˜¯ä¸€ä¸ªç§å­ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯çœ‹ä½œæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯æ¬¡éƒ½ä¼šä½¿ç”¨ç§å­é‡å¤çš„æ‰§è¡Œæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æ­¤ä»£ç å°†ä¸€ç›´æ‰§è¡Œ</span>
<span class="nc">Stream</span><span class="o">.</span><span class="na">iterate</span><span class="o">(</span><span class="mi">1</span><span class="o">,(</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">++).</span><span class="na">forEach</span><span class="o">((</span><span class="n">i</span><span class="o">)-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
</code></pre></div></div>

<h4 id="32collection-åˆ›å»º-stream">3.2ã€Collection åˆ›å»º Stream</h4>

<p>Collection é›†åˆç±»çš„çˆ¶æ¥å£æä¾›äº†ä¸€ä¸ªé»˜è®¤çš„æ–¹æ³• <code class="highlighter-rouge">ConllectionInstance.stream()</code> æ¥å®ç°åˆ›å»º Streamï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨æˆ–ä½¿ç”¨ä»»æ„çš„ Collection å®ç°ç±»å³å¯åˆ›å»º Streamï¼Œæ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ä½¿ç”¨ ArrayList åˆ›å»º</span>
<span class="nc">Stream</span> <span class="n">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">().</span><span class="na">stream</span><span class="o">();</span>
</code></pre></div></div>

<h3 id="4è½¬æ¢stream">4ã€è½¬æ¢Stream</h3>

<p>å¯¹ Stream æ¯æ¬¡æ“ä½œåå…¶å®éƒ½ä¼šå¯¹å…¶è¿›è¡Œè½¬æ¢ï¼Œä»è€Œè¿”å›ä¸€ä¸ªæ–°çš„ Streamï¼ŒStream ä¸­å®šä¹‰äº†å‡ ä¸ªå¸¸ç”¨çš„è½¬æ¢æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<h4 id="41distinct-æ–¹æ³•">4.1ã€distinct æ–¹æ³•</h4>

<p>é¡¾åæ€ä¹‰ï¼Œæ­¤æ–¹æ³•å°†å¯¹ Stream ä¸­çš„å†…å®¹è¿›è¡Œå»é‡æ“ä½œï¼Œ<strong>æ³¨æ„ï¼Œæ­¤æ“ä½œä¾èµ–äº å…ƒç´ çš„ equals æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨å¯¹è±¡å»é‡æ—¶è¯·é‡å†™ equals å’Œ hashcode æ–¹æ³•ã€‚</strong>æ­¤æ“ä½œåæ–°ç”Ÿæˆçš„ Stream æ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼Œä»¥ä¸‹ä¸ºæµ‹è¯•ä»£ç ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åˆ›å»ºä¸€ä¸ª å­˜æ”¾å…ƒç´ çš„ ArrayList</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"b"</span><span class="o">);</span>

<span class="c1">// å»é‡åçš„ list</span>
<span class="nc">List</span> <span class="n">list1</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">distinct</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
</code></pre></div></div>

<h4 id="42filter-æ–¹æ³•">4.2ã€filter æ–¹æ³•</h4>

<p>åŒæ ·ï¼Œä»åå­—å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸ªè¿‡æ»¤æ“ä½œï¼Œé€šè¿‡ filter æ–¹æ³•å¯ä»¥è¿‡æ»¤æµï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Streamï¼Œå…¶ä¸­ filter æ–¹æ³•å…¥å‚æ¥å—ä¸€ä¸ª Predicate å‡½æ•°æ¥å£ï¼Œå¯ä½¿ç”¨ Lambda å®ç°è¯¥å‡½æ•°æ¥å£ï¼Œè¯¥æ¥å£ä¸»è¦ä½œç”¨æ˜¯éœ€è¦æˆ‘ä»¬å®ç°ä¸€ä¸ªè¿‡æ»¤æ¡ä»¶ï¼›æµ‹è¯•å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//åˆ›å»ºä¸€ä¸ªå…ƒç´  List</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>

<span class="c1">// åˆ›å»º Stream å¹¶è¿›è¡Œè¿‡æ»¤</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">((</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
</code></pre></div></div>

<h4 id="43map-æ–¹æ³•">4.3ã€map æ–¹æ³•</h4>

<p>è¯¥æ–¹æ³•ä»åå­—ä¸Šçœ‹ä¼¼ä¹ä¸ Map æœ‰å…³ï¼Œå®è´¨ä¸Šè¯¥æ–¹æ³•ä¸»è¦ä½œç”¨æ˜¯å°† Stream ä¸­çš„æ•°æ®æŒ‰ç…§æŸç§ç»™å®šçš„è½¬æ¢ç­–ç•¥è¿›è¡Œè½¬æ¢ï¼Œæ¯”å¦‚å°† Stream ä¸­çš„ å­—ç¬¦ä¸²å…¨éƒ¨è½¬åŒ–ä¸º Integer ç±»å‹ï¼Œmap æ–¹æ³•åŒæ ·æ¥å—ä¸€ä¸ªå‡½æ•°æ¥å£ï¼Œè¯¥æ¥å£éœ€è¦æˆ‘ä»¬å®ç°ä¸ºå…·ä½“çš„è½¬æ¢ç­–ç•¥ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åˆ›å»ºä¸€ä¸ªå¾…è½¬æ¢çš„ List</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"2"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"3"</span><span class="o">);</span>

<span class="c1">// è·å– Stream å¹¶è½¬æ¢</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">((</span><span class="n">str</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">str</span><span class="o">)).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list1</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>map æ–¹æ³•æœ‰å…¶ç²¾ç®€ç‰ˆæœ¬ï¼Œå¦‚ mapToIntï¼ŒmapToLongå’ŒmapToDoubleï¼Œä»åå­—å¯ä»¥çŸ¥é“å…¶ä½œç”¨ã€‚</strong></p>

<h4 id="44flatmap-æ–¹æ³•">4.4ã€flatMap æ–¹æ³•</h4>

<p>flatMap æ–¹æ³• å’Œ map æ–¹æ³•ç±»ä¼¼ï¼ŒåŒæ ·ç”¨äºç»“æœè½¬æ¢ï¼Œä½†ä¸åŒçš„æ˜¯ flatMap å¯ä»¥å¤„ç†è¿”å›å€¼ä¸º Stream çš„å¤„ç†ï¼Œå¦‚ä¸‹é¢çš„æ ·ä¾‹ï¼š</p>

<p><strong>ä½¿ç”¨ map çš„å¤„ç†æƒ…å†µ</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestFlatMap</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// åˆ›å»ºå…ƒç´ é›†åˆ</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"456"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"789"</span><span class="o">);</span>

        <span class="c1">// åˆ›å»ºæµå¹¶è½¬æ¢   æ­¤å¤„å°†è¿”å›ä¸€ä¸ªå¥—åµŒæµ</span>
        <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">TestFlatMap:</span><span class="o">:</span><span class="n">toCharterStream</span><span class="o">);</span>

        <span class="c1">// è·å–è¿™ä¸ª å¥—åµŒæµä¸­æ‰€æœ‰å†…å®¹</span>
        <span class="n">stream</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">streamTmp</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">streamTmp</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">c</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">)));</span>

    <span class="o">}</span>


    <span class="c1">// å­—ç¬¦ä¸²åˆ†è§£ å¹¶è¿”å› Charcater çš„ Stream</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="nf">toCharterStream</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">){</span>

        <span class="c1">// ç¼“å­˜ç»“æœ</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">char</span> <span class="nl">c:</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">())</span> <span class="o">{</span>
            <span class="c1">// å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†è§£ä¸º char æ”¾å…¥ç¼“å­˜ç»“æœä¸­</span>
            <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Character</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">c</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="c1">// è¿”å› ä¸€ä¸ª Character çš„ Stream</span>
        <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œå½“è½¬æ¢æ–¹æ³•è¿”å›å¦ä¸€ä¸ªæµå³å¥—åµŒæµ <code class="highlighter-rouge">Stream&lt;Stream&gt;</code> æ—¶ï¼Œæˆ‘ä»¬æƒ³è·å– Stream ä¸­æ‰€æœ‰å†…å®¹æå…¶å›°éš¾å’Œå¤æ‚ï¼Œè€Œ flatMap æ–¹æ³•å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</strong></p>

<p><strong>flatmap å®ç°</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestFlatMap1</span> <span class="o">{</span>


    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// åˆ›å»ºå…ƒç´ é›†åˆ</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"456"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"789"</span><span class="o">);</span>


        <span class="c1">// æ³¨æ„ æ­¤å¤„å¥—åµŒæµè‡ªåŠ¨è¢«åˆå¹¶</span>
        <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">flatMap</span><span class="o">(</span><span class="nl">TestFlatMap1:</span><span class="o">:</span><span class="n">toCharterStream</span><span class="o">);</span>

        <span class="n">stream</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">c</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">));</span>

    <span class="o">}</span>


    <span class="c1">// å­—ç¬¦ä¸²åˆ†è§£ å¹¶è¿”å› Charcater çš„ Stream</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="nf">toCharterStream</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// ç¼“å­˜ç»“æœ</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Character</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">())</span> <span class="o">{</span>
            <span class="c1">// å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†è§£ä¸º char æ”¾å…¥ç¼“å­˜ç»“æœä¸­</span>
            <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Character</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">c</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="c1">// è¿”å› ä¸€ä¸ª Character çš„ Stream</span>
        <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>æ€»ç»“ï¼šmap æ–¹æ³•åœ¨å®ç°çš„è½¬æ¢æ–¹æ³•è¿”å› Stream æ—¶ï¼Œä¼šå½¢æˆå¥—åµŒ <code class="highlighter-rouge">Stream&lt;Stream&gt;</code>ï¼Œå½“è¦éå†æ—¶æå…¶å›°éš¾ï¼Œè€Œ flatMap æ–¹æ³•åˆ™ä¼šè‡ªåŠ¨åˆå¹¶å¥—åµŒæµã€‚</strong></p>

<h4 id="45peek-æ–¹æ³•">4.5ã€peek æ–¹æ³•</h4>

<p>peek æ–¹æ³•ç”¨äºå¯¹ Stream å†…å…ƒç´ è¿›è¡ŒåŒ…è£…ï¼Œå³åœ¨å¤–é¢åŒ…è£…ä¸€å±‚æˆ‘ä»¬è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œå½“ Stream å†…å…ƒç´ è¢«æ¶ˆè´¹(å¤„ç†/è½¬åŒ–)æ—¶ï¼Œåˆ™è§¦å‘è¯¥æ–¹æ³•æ‰§è¡Œï¼Œå¦‚ä¸‹æµ‹è¯•ä¾‹å­ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPeek</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// peek åŒ…è£…æ—¶è‡ªå®šä¹‰äº†ä¸€ä¸ª è¾“å‡ºæ–¹æ³•,å½“æ¯æ¬¡ map æ–¹æ³•å¯¹å…ƒç´ è½¬æ¢(æ¶ˆè´¹)æ—¶,éƒ½ä¼šè§¦å‘ è¯¥æ–¹æ³•æ‰§è¡Œ</span>
        <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span><span class="s">"2"</span><span class="o">,</span><span class="s">"3"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">peek</span><span class="o">((</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å…ƒç´ è¢«æ¶ˆè´¹: "</span><span class="o">+</span><span class="n">s</span><span class="o">))</span>
                <span class="o">.</span><span class="na">map</span><span class="o">((</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">s</span><span class="o">))</span>
                <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="46limit-æ–¹æ³•">4.6ã€limit æ–¹æ³•</h4>

<p>é¡¾åæ€ä¹‰ï¼Œæ­¤æ–¹æ³•å°†å¯¹ Stream å†…å…ƒç´ è¿›è¡Œæˆªæ–­æ“ä½œï¼Œè¿”å›çš„ Stream ä¸­åŒ…å«æˆªæ–­åçš„å…ƒç´ ï¼Œ<strong>æ³¨æ„æ­¤æ–¹æ³•å‘åæˆªæ–­ï¼Œå³è¯­ä¹‰ä¸º â€œä¿ç•™å‰é¢çš„ N ä¸ªå…ƒç´ â€ï¼›</strong>æµ‹è¯•å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æˆªæ–­æ“ä½œ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">3</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="c1">// æ‰“å° [1, 2, 3]</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
</code></pre></div></div>

<h4 id="47skip-æ–¹æ³•">4.7ã€skip æ–¹æ³•</h4>

<p>skip æ–¹æ³•ä¸ limit æ­£å¥½ç›¸åï¼Œ<strong>è¯­ä¹‰ä¸ºï¼šä¸¢å¼ƒå‰ N ä¸ªå…ƒç´ </strong>ï¼›æµ‹è¯•å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æ‰“å° 3,4,5</span>
<span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="na">skip</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">forEach</span><span class="o">((</span><span class="n">i</span><span class="o">)-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
</code></pre></div></div>

<h3 id="5æ±‡èšæŠ˜å ">5ã€æ±‡èš(æŠ˜å )</h3>

<p>æ±‡èšä¹ŸæˆæŠ˜å ï¼Œå½“å¯¹ä¸€ä¸ªæµè¿›è¡Œå„ç§æ“ä½œå(filterã€mapç­‰)ï¼Œå®é™…ä¸Šè¯¥æµå¹¶ä¸ä¼šç«‹å³è¢«å¤„ç†ï¼Œå› ä¸ºæµåªèƒ½æµå‘æ€§çš„ä¸€æ¬¡èµ°å®Œï¼Œåªæœ‰åœ¨æœ€åè¿›è¡Œæ±‡èš(æŠ˜å )åŠ¨ä½œæ—¶ï¼Œè¯¥æµæ‰ä¼šä¸€ç›´è¢«è½¬æ¢/å¤„ç†å®Œæˆå¹¶æœ€ç»ˆè¿”å›ä¸€ä¸ªæ–°çš„æµã€‚</p>

<p><strong>æ±‡èšä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š</strong></p>

<p><strong>å¯å˜æ±‡èšï¼š</strong>æŠŠè¾“å…¥çš„å…ƒç´ ç´¯ç§¯åˆ°ä¸€ä¸ªå¯å˜å®¹å™¨ä¸­ï¼Œæ¯”å¦‚ Collectionæˆ–è€… StringBuilderã€‚
<strong>å…¶ä»–æ±‡èšï¼š</strong>å…¶ä»–æ±‡èšå³é™¤äº†å¯å˜æ±‡èšä¹‹å¤–çš„éƒ½ç§°ä½œå…¶ä»–æ±‡èšï¼Œä¸€èˆ¬è¿™äº›æ±‡èšéƒ½æ˜¯åå¤æ“ä½œç»“æœæµï¼Œå¹¶é€šè¿‡å‰ä¸€æ¬¡çš„ç»“æœæµå½“åšä¸‹ä¸€æ¬¡çš„å…¥å‚ï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ªç»“æœï¼Œå¦‚ reduceï¼Œcountï¼ŒallMatchç­‰ã€‚</p>

<h4 id="51å¯å˜æ±‡èš">5.1ã€å¯å˜æ±‡èš</h4>

<p>å¯å˜æ±‡èšå¯¹åº”çš„åªæœ‰ä¸€ä¸ªæ–¹æ³• <code class="highlighter-rouge">Stream.collect()</code>ï¼Œè¯¥æ–¹æ³•å°†æµä¸­å¤„ç†åçš„å…ƒç´ æ±‡èšåˆ°ä¸€ä¸ª å®¹å™¨ä¸­ï¼Œæ¯”å¦‚ <code class="highlighter-rouge">Collection</code>ï¼›<strong>æ³¨æ„ï¼ŒStream API ä¸­å¯¹æµå¤„ç†æ“ä½œå¹¶ä¸ä¼šæ”¹å˜åŸæœ‰å®¹å™¨ï¼Œæ¯”å›¾ List.stream() è¿”å›çš„æµæ— è®ºæ€ä¹ˆå¤„ç†ï¼ŒåŸæ¥çš„ List éƒ½ä¸ä¼šå—å½±å“ã€‚</strong></p>

<h5 id="511é»˜è®¤çš„-collect-æ–¹æ³•">5.1.1ã€é»˜è®¤çš„ collect æ–¹æ³•</h5>

<p>æŸ¥çœ‹ collect æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="no">R</span> <span class="nf">collect</span><span class="o">(</span><span class="nc">Supplier</span><span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="n">supplier</span><span class="o">,</span>
      <span class="nc">BiConsumer</span><span class="o">&lt;</span><span class="no">R</span><span class="o">,</span> <span class="o">?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">accumulator</span><span class="o">,</span>
      <span class="nc">BiConsumer</span><span class="o">&lt;</span><span class="no">R</span><span class="o">,</span> <span class="no">R</span><span class="o">&gt;</span> <span class="n">combiner</span><span class="o">);</span>
</code></pre></div></div>

<p>Supplier supplieræ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å®¹å™¨ï¼›BiConsumer accumulatorä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æŠŠStreamä¸­çš„å…ƒç´ æ·»åŠ åˆ°ç»“æœå®¹å™¨ä¸­ï¼›BiConsumer combinerè¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æŠŠä¸­é—´çŠ¶æ€çš„å¤šä¸ªç»“æœå®¹å™¨åˆå¹¶æˆä¸ºä¸€ä¸ªï¼ˆå¹¶å‘çš„æ—¶å€™ä¼šç”¨åˆ°ï¼‰ï¼Œä¸‹é¢ä¸¾ä¸ªæ —å­ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">).</span><span class="na">filter</span><span class="o">((</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">).</span>
                <span class="n">collect</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">(),</span>
                        <span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">),</span>
                        <span class="o">(</span><span class="n">listAll</span><span class="o">,</span><span class="n">list</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">listAll</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">list</span><span class="o">));</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>ç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºç”Ÿæˆä¸€ä¸ªå®¹å™¨(ArrayList),ç¬¬äºŒä¸ªå‚æ•°ç”¨äºå°† Stream ä¸­çš„å…ƒç´ åŠ å…¥åˆ°å‰é¢ç”Ÿæˆçš„å®¹å™¨(list)ä¸­ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åœ¨å¹¶å‘æ—¶ï¼Œç”¨äºå°†</strong></p>

<h5 id="512collect-ç®€åŒ–ç‰ˆæœ¬">5.1.2ã€collect ç®€åŒ–ç‰ˆæœ¬</h5>

<p>clooect è¿˜æœ‰ä¸€ä¸ª override ç‰ˆæœ¬ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="no">R</span><span class="o">,</span> <span class="no">A</span><span class="o">&gt;</span> <span class="no">R</span> <span class="nf">collect</span><span class="o">(</span><span class="nc">Collector</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">,</span> <span class="no">A</span><span class="o">,</span> <span class="no">R</span><span class="o">&gt;</span> <span class="n">collector</span><span class="o">);</span>
</code></pre></div></div>

<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ª <code class="highlighter-rouge">Collector</code> æ¥å£ï¼ŒJDK 8 ä¸ºæˆ‘ä»¬æä¾›äº†å¿«é€Ÿåˆ›å»ºè¯¥æ¥å£çš„å·¥å…·ç±» <code class="highlighter-rouge">java.util.stream.Collectors</code>ï¼Œå…¶ä¸­è°ƒç”¨è¯¥å·¥å…·ç±»çš„æ–¹æ³•å¯ä»¥å¿«é€Ÿåˆ›å»º <code class="highlighter-rouge">Collector</code> æ¥å£çš„å®åŠ›ï¼Œå…¸å‹çš„æ–¹æ³•æœ‰ <code class="highlighter-rouge">Collectors.toList()</code>ã€<code class="highlighter-rouge">Collectors.toSet()</code>ã€<code class="highlighter-rouge">Collectors.toCollection()</code> ç­‰ç­‰ï¼Œå…·ä½“å¯è‡ªè¡ŒæŸ¥çœ‹æºç ï¼Œä»åå­—ä¹Ÿå¾ˆå®¹æ˜“çœ‹å‡ºå…¶ç”¨é€”ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªæ±‡èšåˆ° List çš„ä»£ç ç¤ºä¾‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">).</span><span class="na">filter</span><span class="o">((</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
</code></pre></div></div>

<h4 id="52å…¶ä»–æ±‡èš">5.2ã€å…¶ä»–æ±‡èš</h4>

<h5 id="521reduce-æ–¹æ³•">5.2.1ã€reduce æ–¹æ³•</h5>

<p>reduce æ–¹æ³•ç”¨äºè¿­ä»£ç´¯åŠ æ“ä½œï¼Œè¯¥æ–¹æ³•æœ‰ä¸‰ç§ override ç‰ˆæœ¬ï¼Œç¬¬ä¸€ç§ç»“æ„å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nc">Optional</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">reduce</span><span class="o">(</span><span class="nc">BinaryOperator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">accumulator</span><span class="o">);</span>
</code></pre></div></div>

<p>åŒæ ·è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ª BinaryOperator æ¥å£å¯¹è±¡ï¼ŒBinaryOperator æ¥å£å¯¹è±¡ç”¨äºå®ç° â€œç´¯åŠ åŠ¨ä½œâ€ï¼Œå³ä»¥ä½•ç§æ–¹å¼ç´¯åŠ ï¼›è¯¥æ¥å£æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸Šæ¬¡æ“ä½œç»“æœçš„ä¸´æ—¶å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º Stream ä¸­çš„å…ƒç´ ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// int ç´¯åŠ </span>
<span class="kt">int</span> <span class="n">test1</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">).</span><span class="na">filter</span><span class="o">((</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">).</span><span class="na">reduce</span><span class="o">((</span><span class="n">result</span><span class="o">,</span> <span class="n">filed</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">result</span> <span class="o">+</span> <span class="n">filed</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>

<span class="c1">// String ç´¯åŠ </span>
<span class="nc">String</span> <span class="n">test2</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"He"</span><span class="o">,</span><span class="s">"llo"</span><span class="o">,</span><span class="s">" "</span><span class="o">,</span><span class="s">"Wo"</span><span class="o">,</span><span class="s">"rld"</span><span class="o">).</span><span class="na">reduce</span><span class="o">((</span><span class="n">result</span><span class="o">,</span><span class="n">filed</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">result</span><span class="o">+</span><span class="n">filed</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test1</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test2</span><span class="o">);</span>
</code></pre></div></div>

<p>è¯¥æ–¹æ³•çš„ç¬¬äºŒç§ç»“æ„å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">T</span> <span class="nf">reduce</span><span class="o">(</span><span class="no">T</span> <span class="n">identity</span><span class="o">,</span> <span class="nc">BinaryOperator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">accumulator</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>æ³¨æ„ï¼Œè¯¥ç‰ˆæœ¬è¿”å›å€¼ç›´æ¥å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„æ•°æ®ç±»å‹ï¼Œè¿™ä¸ªæ•°æ®ç±»å‹å¯ä»¥æ ¹æ®ä¼ å…¥çš„åˆå§‹å€¼ <code class="highlighter-rouge">identity</code> è¿›è¡Œæ¨æ–­å‡ºæ¥ã€‚</strong></p>

<p>æ­¤æ—¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªåˆå§‹å€¼ï¼Œåé¢çš„ç´¯åŠ æ“ä½œåŸºäºè¿™ä¸ªåˆå§‹å€¼ï¼Œå¦‚æœ Stream ä¸ºç©ºé‚£ä¹ˆå°†ç›´æ¥è¿”å›åˆå§‹å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°åŒæ ·ä¸ºç´¯åŠ ç®—æ³•ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// å¸¦æœ‰åˆå§‹å€¼çš„ç´¯åŠ </span>
<span class="nc">String</span> <span class="n">test3</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"llo"</span><span class="o">,</span><span class="s">" "</span><span class="o">,</span><span class="s">"Wo"</span><span class="o">,</span><span class="s">"rld"</span><span class="o">).</span><span class="na">reduce</span><span class="o">(</span><span class="s">"He"</span><span class="o">,(</span><span class="n">result</span><span class="o">,</span><span class="n">filed</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">result</span><span class="o">+</span><span class="n">filed</span><span class="o">);</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test3</span><span class="o">);</span>
</code></pre></div></div>

<h5 id="522count-æ–¹æ³•">5.2.2ã€count æ–¹æ³•</h5>

<p>count æ–¹æ³•ç”¨äºç»Ÿè®¡å…ƒç´ ä¸ªæ•°ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æ³¨æ„è¿”å›å€¼ä¸ºlong ç±»å‹</span>
<span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="na">count</span><span class="o">();</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">count</span><span class="o">);</span>
</code></pre></div></div>

<h5 id="523å…¶ä»–æ–¹æ³•">5.2.3ã€å…¶ä»–æ–¹æ³•</h5>

<ul>
  <li>allMatch æ–¹æ³•ç”¨äºæ£€æµ‹ç»“æœä¸­æ˜¯å¦éƒ½æ»¡è¶³æŸä¸€æ¡ä»¶ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">boolean</span> <span class="n">flag</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="na">allMatch</span><span class="o">((</span><span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">flag</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>å…¶ä»–æ–¹æ³•åŸºæœ¬ä¸€è‡´ï¼Œä»£ç å°±ä¸å†™äº†</strong></p>

<ul>
  <li>anyMatchï¼šStreamä¸­æ˜¯å¦å­˜åœ¨ä»»ä½•ä¸€ä¸ªå…ƒç´ æ»¡è¶³åŒ¹é…æ¡ä»¶</li>
  <li>findFirstï¼šè¿”å›Streamä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœStreamä¸ºç©ºï¼Œè¿”å›ç©ºOptional</li>
  <li>noneMatchï¼šæ˜¯ä¸æ˜¯Streamä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸æ»¡è¶³ç»™å®šçš„åŒ¹é…æ¡ä»¶</li>
  <li>maxå’Œminï¼šä½¿ç”¨ç»™å®šçš„æ¯”è¾ƒå™¨(Operator)ï¼Œè¿”å›Streamä¸­çš„æœ€å¤§/æœ€å°å€¼ã€‚</li>
</ul>

<p>Stream API  å‚è€ƒè‡ª <a href="http://ifeve.com/stream/">Java8åˆä½“éªŒï¼ˆäºŒï¼‰Streamè¯­æ³•è¯¦è§£</a></p>

<p>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
:ET