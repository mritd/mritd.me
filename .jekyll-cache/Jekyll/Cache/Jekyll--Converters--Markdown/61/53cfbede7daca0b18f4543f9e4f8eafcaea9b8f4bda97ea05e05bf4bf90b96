I"(<blockquote>
  <p>éšç€ kubernetes å®¹å™¨åŒ–éƒ¨ç½²é€æ¸æ¨è¿›ï¼Œgcr.io é•œåƒã€kubernetes rpm ä¸‹è½½ç”±äº â€œä¼Ÿå¤§çš„â€ å¢™çš„åŸå› æˆä¸ºé˜»ç¢ç© kubernetes ç¬¬ä¸€é“å±éšœï¼Œä»¥ä¸‹è®°å½•äº†ä¸ªäººç»´æŠ¤çš„ yum ä»“åº“å’Œ gcr.io åä»£ä»“åº“ä½¿ç”¨</p>
</blockquote>

<h3 id="ä¸€yum-æº">ä¸€ã€yum æº</h3>

<p>ç›®å‰ä¸ªäººç»´æŠ¤äº†ä¸€ä¸ª kubernetes çš„ yum æºï¼Œç›®å‰ yum æºåŒ…å« rpm å¦‚ä¸‹</p>

<table>
  <thead>
    <tr>
      <th>rpm åŒ…</th>
      <th>ç‰ˆæœ¬</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>etcd</td>
      <td>3.1.0-1.x86_64</td>
    </tr>
    <tr>
      <td>flannel</td>
      <td>0.7.0-1.x86_64</td>
    </tr>
    <tr>
      <td>kubernetes</td>
      <td>1.5.3-1.x86_64</td>
    </tr>
    <tr>
      <td>kubeadm</td>
      <td>1.6.0-0.alpha.0.2074.a092d8e0f95f52.x86_64</td>
    </tr>
    <tr>
      <td>kubectl</td>
      <td>1.5.3-0.x86_64</td>
    </tr>
    <tr>
      <td>kubelet</td>
      <td>1.5.3-0.x86_64</td>
    </tr>
    <tr>
      <td>kubernetes-cni</td>
      <td>0.3.0.1-0.07a8a2.x86_64</td>
    </tr>
  </tbody>
</table>

<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ·»åŠ  yum æº</span>
<span class="nb">tee</span> /etc/yum.repos.d/mritd.repo <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
[mritd]
name=Mritd Repository
baseurl=https://yum.mritd.me/centos/7/x86_64
enabled=1
gpgcheck=1
gpgkey=https://cdn.oss.link/keys/rpm.public.key
</span><span class="no">EOF
</span><span class="c"># åˆ·æ–°cache</span>
yum makecache
<span class="c"># å®‰è£… yum-utils</span>
yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils socat 
<span class="c"># ä¸‹è½½ rpm åˆ°æœ¬åœ°</span>
yumdownloader kubelet kubectl kubernetes-cni kubeadm
<span class="c"># å®‰è£… rpm</span>
rpm <span class="nt">-ivh</span> kube<span class="k">*</span>.rpm
</code></pre></div></div>

<p><strong>æ‰€æœ‰å…³äº yum æºåœ°å€å˜æ›´ç­‰éƒ½å°†åœ¨ <a href="https://yum.mritd.me">https://yum.mritd.me</a> é¡µé¢å…¬å‘Šï¼Œå¦‚å‡ºç°ä¸èƒ½ä½¿ç”¨è¯·è®¿é—®æ­¤é¡µé¢æŸ¥çœ‹ç›¸å…³åŸå› </strong>ï¼›<strong>å¦‚æœå®åœ¨ä¸‹è½½è¿‡æ…¢å¯ä»¥å°† <code class="highlighter-rouge">yum.mritd.me</code> æ›¿æ¢æˆ <code class="highlighter-rouge">yumrepo.b0.upaiyun.com</code>ï¼Œæ­¤åŸŸå yum æºåœ¨ CDN ä¸Šï¼Œç”±äºæµé‡æœ‰é™ï¼Œè¯·ä½¿ç”¨ yumdownloader å·¥å…·ä¸‹è½½åˆ°æœ¬åœ°åˆ†å‘å®‰è£…ï¼Œè°¢è°¢</strong></p>

<h3 id="äºŒkubernetes-é•œåƒ">äºŒã€kubernetes é•œåƒ</h3>

<p>å…³äº kubernetes é•œåƒä¸‹è½½ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>

<ul>
  <li>ç›´æ¥ä»å›½å¤–æœåŠ¡å™¨ pull ç„¶å save å‡ºæ¥ä¼ åˆ°æœ¬åœ°</li>
  <li>é€šè¿‡ç¬¬ä¸‰æ–¹ä»“åº“åšä¸­è½¬ï¼Œå¦‚ Docker hub</li>
  <li>åœ¨æœ¬åœ°/å›½å¤–èƒ½è®¿é—®çš„æœåŠ¡å™¨é€šè¿‡å®˜æ–¹ registry åŠ ä»£ç†åä»£ gcr.io</li>
</ul>

<p><strong>ä¸ªäººåœ¨å›½å¤–æœåŠ¡å™¨ä¸Šç»´æŠ¤äº†ä¸€ä¸ª gcr.io çš„åä»£ä»“åº“ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull gcr.mritd.me/google_containers/kube-apiserver-amd64:v1.5.3
</code></pre></div></div>

<p>å¦‚æœå¯¹äº gcr.mritd.me è®¿é—®è¿‡æ…¢å¯å‚è€ƒ <a href="https://mritd.me/2017/02/09/gcr.io-registy-proxy/">gcr.io ä»“åº“ä»£ç†</a> ä½¿ç”¨å¸¦æœ‰æ¢¯å­çš„æœ¬åœ°ç§æœï¼Œå¦‚æœä½¿ç”¨ Docker Hub ç­‰ä¸­è½¬å¯å‚è€ƒ <a href="https://mritd.me/2016/10/29/set-up-kubernetes-cluster-by-kubeadm/#22%E9%95%9C%E5%83%8F%E4%BB%8E%E5%93%AA%E6%9D%A5">kubeadm æ­å»º kubernetes é›†ç¾¤</a></p>

<p>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
:ET