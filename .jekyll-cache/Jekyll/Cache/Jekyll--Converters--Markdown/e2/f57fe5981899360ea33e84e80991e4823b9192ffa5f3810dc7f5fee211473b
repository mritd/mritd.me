I"º“<h3 id="å¼€å¯rootç”¨æˆ·">å¼€å¯Rootç”¨æˆ·</h3>

<blockquote>
  <p>åˆæ¬¡ä½¿ç”¨piç”¨æˆ·ç™»å½•åï¼Œé»˜è®¤å¯†ç ä¸º raspberryï¼Œç„¶ååº”è¯¥æå¼€Rootç”¨æˆ·ï¼Œå’ŒDebianç³»åˆ—ä¸€æ ·(æˆ‘ç‰¹ä¹ˆåªç”¨è¿‡åŸºäºDebiançš„ï¼Œå¦‚Ubuntuï¼Œè¿˜æ²¡ç©è¿‡çº¯è¡€ç»ŸDebian)ï¼Œé»˜è®¤æ ‘è“æ´¾Rootç”¨æˆ·æ˜¯æœªå¯ç”¨çš„ï¼Œå¯†ç æ¯æ¬¡å¼€æœºéƒ½å˜ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å¯Rootç”¨æˆ·ï¼Œå¹¶æ›´æ”¹å¯†ç :</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>passwd root
<span class="c"># ç„¶åè¾“ä¸¤æ¬¡å¯†ç ï¼Œå¯ä»¥suè¿‡å»äº†ï¼Œä¸è¿‡è¿™æ—¶ä½ ä¼šå‘ç°</span>
<span class="c"># ä»ç„¶æ— æ³•è¿œç¨‹ä»¥rootç™»å½•ï¼Œä¿®æ”¹å¦‚ä¸‹é…ç½®ä¸­çš„ PermitRootLogin å‚æ•°å³å¯</span>
vi /etc/ssh/sshd_config
<span class="c"># è¯¥å‚æ•°ç å€¼å¦‚ä¸‹</span>

<span class="c"># å…è®¸rootç”¨æˆ·ä»¥ä»»ä½•è®¤è¯æ–¹å¼ç™»å½•</span>
PermitRootLogin <span class="nb">yes</span>  

<span class="c"># åªå…è®¸rootç”¨public keyè®¤è¯æ–¹å¼ç™»å½•</span>
PermitRootLogin without-password      

<span class="c"># ä¸å…è®¸rootè¿œç¨‹ç™»å½•</span>
PermitRootLogin no  
</code></pre></div></div>

<hr />
<blockquote>
  <p>ä»¥ä¸‹ç›¸å…³è®¾ç½®å¤§éƒ¨åˆ†åœ¨rootæƒé™ä¸‹è¿›è¡Œ</p>
</blockquote>

<hr />

<h3 id="è§£å†³viæ–¹å‘åˆ é™¤å¤±çµ">è§£å†³viæ–¹å‘/åˆ é™¤å¤±çµ</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ç›´æ¥ç¼–è¾‘vimé…ç½®æ–‡ä»¶ï¼Œæ³¨æ„å…ˆè°ƒæ•´åˆ°è¦æ”¹çš„ä½ç½®ï¼Œå†ç¼–è¾‘</span>
<span class="c"># å› ä¸ºä¸€æ—¦è¿›å…¥Insertæ¨¡å¼ æ–¹å‘é”®æ˜¯ä¸å¥½ä½¿çš„</span>
vi /etc/vim/vimrc.tiny

<span class="c"># ä¿®æ”¹åå¦‚ä¸‹</span>
<span class="nb">set </span>nocompatible
<span class="nb">set </span><span class="nv">backspace</span><span class="o">=</span>2
</code></pre></div></div>

<h3 id="lessè¯­æ³•é«˜äº®">lessè¯­æ³•é«˜äº®</h3>

<blockquote>
  <ol>
    <li>æ‰§è¡Œå‘½ä»¤ <code class="highlighter-rouge">apt-get install source-highlight</code></li>
    <li>åŠ å…¥ç¯å¢ƒå˜é‡(æ›´è¯¦ç»†å‚è€ƒ <a href="http://leonyoung.sinaapp.com/blog/2013/10/syntax-highlight-in-less/">è¿™é‡Œ</a>)</li>
  </ol>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">LESSOPEN</span><span class="o">=</span><span class="s1">'| /usr/share/source-highlight/src-hilite-lesspipe.sh %s'</span>
<span class="nb">export </span><span class="nv">LESS</span><span class="o">=</span><span class="s1">' -R -N '</span>
</code></pre></div></div>
<h3 id="è®¾ç½®è‡ªåŠ¨è¿æ¥-wifi">è®¾ç½®è‡ªåŠ¨è¿æ¥ WiFi</h3>

<ul>
  <li>ç¼–è¾‘ /etc/network/interfaces æ–‡ä»¶</li>
</ul>

<blockquote>
  <p>ä¸€èˆ¬åªæœ‰ä¸€ä¸ªæ— çº¿ç½‘å¡çš„è¯é»˜è®¤ä¸º wlan0ï¼Œä¿®æ”¹ <code class="highlighter-rouge">iface wlan0 inet manual</code> ä¸º <code class="highlighter-rouge">iface wlan0 inet dhcp</code>ï¼Œå› ä¸ºè€ƒè™‘åˆ°ç½‘ç»œç¯å¢ƒï¼Œé¢‘ç¹åˆ‡æ¢ç½‘ç»œä¸é€‚åˆè®¾ç½®é™æ€IPï¼Œæ‰€ä»¥ä½¿ç”¨ DHCP åˆ†é…ï¼Œæ ·ä¾‹é…ç½®æ–‡ä»¶å¦‚ä¸‹:</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Please note that this file is written to be used with dhcpcd.</span>
<span class="c"># For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'.</span>

auto lo
iface lo inet loopback

<span class="c"># è‡ªåŠ¨è¿æ¥æœ‰çº¿ç½‘å¡</span>
auto eth0
allow-hotplug eth0
iface eth0 inet manual

<span class="c"># è‡ªåŠ¨è¿æ¥ æ— çº¿ç½‘å¡</span>
auto wlan0
<span class="c"># å…è®¸çƒ­æ’æ‹”</span>
allow-hotplug wlan0
<span class="c"># IPé‡‡ç”¨ DHCP åˆ†é…</span>
iface wlan0 inet dhcp
<span class="c"># SSID ç­‰ç›¸å…³è®¾ç½®(wifiå¯†ç å•¥çš„)</span>
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

auto wlan1
allow-hotplug wlan1
iface wlan1 inet dhcp
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre></div></div>

<ul>
  <li>ç¼–è¾‘ /etc/wpa_supplicant/wpa_supplicant.conf æ–‡ä»¶</li>
</ul>

<blockquote>
  <p>è¯¥æ–‡ä»¶ä¸»è¦å­˜å‚¨æ— çº¿ç½‘ç»œè¿æ¥çš„ç›¸å…³è®¾ç½®ï¼ŒåŒ…æ‹¬SSIDã€å¯†ç ã€åŠ å¯†æ–¹å¼ç­‰ï¼Œé…ç½®æ ·ä¾‹å¦‚ä¸‹</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ctrl_interface</span><span class="o">=</span><span class="nv">DIR</span><span class="o">=</span>/var/run/wpa_supplicant <span class="nv">GROUP</span><span class="o">=</span>netdev
<span class="nv">update_config</span><span class="o">=</span>1

<span class="nv">network</span><span class="o">={</span>
  <span class="c"># Wifi SSID</span>
  <span class="nv">ssid</span><span class="o">=</span><span class="s2">"mritd"</span>
  <span class="c"># Wifi Password</span>
  <span class="nv">psk</span><span class="o">=</span><span class="s2">"12345678"</span>
  <span class="c"># ç½‘ç»œä¼˜å…ˆçº§ï¼Œ networkå—å¯ä»¥æœ‰å¤šä¸ªï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è®¾ç½®å¤šä¸ªæ— çº¿é“¾æ¥åŠå¯†ç ï¼Œ</span>
  <span class="c"># å½“æœ‰å¤šä¸ªWifiéƒ½å­˜åœ¨æ—¶ï¼Œæ ¹æ®è¿™ä¸ªå€¼é€‰æ‹©ä¼˜å…ˆé“¾æ¥ï¼Œè¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œä¸å¯ä¸ºè´Ÿæ•°</span>
  <span class="nv">priority</span><span class="o">=</span>5
<span class="o">}</span>
</code></pre></div></div>

<p><strong>å…¶ä¸­ network éƒ¨åˆ†æœ€å¥½ä½¿ç”¨å·¥å…·ç”Ÿæˆï¼Œå‘½ä»¤å¦‚ä¸‹ <code class="highlighter-rouge">wpa_passphrase SSID PASSWD</code></strong></p>

<ul>
  <li>å¯ç”¨ç½‘å¡é“¾æ¥</li>
</ul>

<blockquote>
  <p>æ‰§è¡Œ <code class="highlighter-rouge">ifup wlan0</code> å¯åŠ¨ wlan0 å¹¶è¿æ¥ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">ifdown wlan0</code> å…³é—­å¹¶æ–­å¼€é“¾æ¥ï¼Œå¦‚ä¸‹å›¾:
<img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_ifup_wlan0.png" alt="ifup_wlan0" /></p>

  <p>é“¾æ¥æˆåŠŸåå¯æ‰§è¡Œ <code class="highlighter-rouge">ifconfig</code> æˆ– <code class="highlighter-rouge">iwconfig</code>æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶å†µï¼Œå¦‚ä¸‹å›¾:
<img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_iwconfig_wlan0.png" alt="iwconfig" /></p>

  <p><img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_ifconfig_wlan0.png" alt="ifconfig" /></p>
</blockquote>

<h3 id="å…³é—­-wifi-ä¼‘çœ ">å…³é—­ WiFi ä¼‘çœ </h3>

<p>é»˜è®¤æƒ…å†µä¸‹æ ‘è“æ´¾çš„ wifi æ—¶ä¼šè‡ªåŠ¨ä¼‘çœ çš„ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å…³é—­ç½‘å¡ä¼‘çœ </p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ£€æµ‹ç½‘å¡ä¼‘çœ çŠ¶æ€ 1 ä»£è¡¨ä¼šè‡ªåŠ¨ä¼‘çœ  0 åä¹‹</span>
<span class="nb">cat</span> /sys/module/8192cu/parameters/rtw_power_mgnt
<span class="c"># å¦‚æœä¸º1 ç¼–è¾‘ 8192cu.conf æ–‡ä»¶å…³é—­ä¼‘çœ (æ­¤æ–‡ä»¶æ²¡æœ‰å¯æ–°å»º)</span>
vim /etc/modprobe.d/8192cu.conf
<span class="c"># å†…å®¹å¦‚ä¸‹</span>

<span class="c"># Disable power saving</span>
options 8192cu <span class="nv">rtw_power_mgnt</span><span class="o">=</span>0
</code></pre></div></div>

<p>ä¿®æ”¹é…ç½®åé‡å¯å³å¯</p>

<h3 id="è®¾ç½®å‘½ä»¤æç¤ºç¬¦é£æ ¼">è®¾ç½®å‘½ä»¤æç¤ºç¬¦é£æ ¼</h3>

<ul>
  <li>å‘½ä»¤æç¤ºç›¸å…³è®¾ç½®</li>
</ul>

<blockquote>
  <p>Linxuå‘½ä»¤æç¤ºç¬¦ç”± PS1å˜é‡æ§åˆ¶ï¼Œæ‰€ä»¥æ›´æ”¹å‘½ä»¤æç¤ºç¬¦æ ·å¼ä¹Ÿå°±æ˜¯æ›´æ”¹PS1å˜é‡ï¼Œä»¥ä¸‹ä¸ºç›¸å…³ç å€¼:</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\d ï¼š#ä»£è¡¨æ—¥æœŸï¼Œæ ¼å¼ä¸ºweekday month dateï¼Œä¾‹å¦‚ï¼š"Mon Aug 1"   
\H ï¼š#å®Œæ•´çš„ä¸»æœºåç§°ã€‚   
\h ï¼š#ä»…å–ä¸»æœºçš„ç¬¬ä¸€ä¸ªåå­—ï¼Œå¦‚ä¸Šä¾‹ï¼Œåˆ™ä¸ºfc4ï¼Œ.linuxåˆ™è¢«çœç•¥   
\t ï¼š#æ˜¾ç¤ºæ—¶é—´ä¸º24å°æ—¶æ ¼å¼ï¼Œå¦‚ï¼šHHï¼šMMï¼šSS   
\T ï¼š#æ˜¾ç¤ºæ—¶é—´ä¸º12å°æ—¶æ ¼å¼   
\A ï¼š#æ˜¾ç¤ºæ—¶é—´ä¸º24å°æ—¶æ ¼å¼ï¼šHHï¼šMM   
\u ï¼š#å½“å‰ç”¨æˆ·çš„è´¦å·åç§°   
\v ï¼š#BASHçš„ç‰ˆæœ¬ä¿¡æ¯   
\w ï¼š#å®Œæ•´çš„å·¥ä½œç›®å½•åç§°ã€‚å®¶ç›®å½•ä¼šä»¥ ~ä»£æ›¿   
\W ï¼š#åˆ©ç”¨basenameå–å¾—å·¥ä½œç›®å½•åç§°ï¼Œæ‰€ä»¥åªä¼šåˆ—å‡ºæœ€åä¸€ä¸ªç›®å½•   
\# ï¼š#ä¸‹è¾¾çš„ç¬¬å‡ ä¸ªå‘½ä»¤   
\$ ï¼š#æç¤ºå­—ç¬¦ï¼Œå¦‚æœæ˜¯rootæ—¶ï¼Œæç¤ºç¬¦ä¸ºï¼š# ï¼Œæ™®é€šç”¨æˆ·åˆ™ä¸ºï¼š$
</code></pre></div></div>

<blockquote>
  <p>é¢œè‰²åŠæ•ˆæœæ§åˆ¶ç å€¼</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> å‰æ™¯    èƒŒæ™¯     é¢œè‰²
------------------------
  30      40      é»‘è‰²   
  31      41      çº¢è‰²   
ã€€32      42      ç»¿è‰²   
ã€€33      43      é»„è‰²   
ã€€34      44      è“è‰²   
ã€€35      45      ç´«çº¢è‰²   
ã€€36      46      é’è“è‰²   
ã€€37      47      ç™½è‰²  
ã€€
 ä»£ç           æ„ä¹‰   
-------------------------   
  0            OFF   
  1            é«˜äº®æ˜¾ç¤º   
  4            underline   
  5            é—ªçƒ   
  7            åç™½æ˜¾ç¤º   
  8            ä¸å¯è§  
</code></pre></div></div>

<blockquote>
  <p>è®¾ç½®PS1å˜é‡æ—¶ï¼Œ<code class="highlighter-rouge">\[\e[F;Bm]</code> ä»£è¡¨é¢œè‰²å¼€å§‹ï¼ŒFä¸ºå‰æ™¯è‰²ï¼ŒBä¸ºèƒŒæ™¯è‰²ï¼Œ<code class="highlighter-rouge">\e[m]</code> ä¸ºé¢œè‰²ç»“æŸç¬¦ï¼Œä¸å†™çš„è¯ä¼šé€ æˆæ•´ä¸ªå‘½ä»¤è¡Œéƒ½æ˜¯æœ€åä¸€ç§é¢œè‰²ï¼Œä»¥ä¸‹ä¸ºæˆ‘çš„PS1æ ·å¼</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PS1</span><span class="o">=</span><span class="s1">'\[\e[1;32m\][\u@\h\[\e[m\] \[\e[1;34m\]\W\[\e[m\]\[\e[1;32m\]]$\[\e[m\] '</span>
</code></pre></div></div>

<h3 id="è®¾ç½®å¼€æœºè‡ªåŠ¨åŒæ­¥æ—¶é—´">è®¾ç½®å¼€æœºè‡ªåŠ¨åŒæ­¥æ—¶é—´</h3>

<blockquote>
  <p>ä¼—æ‰€å‘¨çŸ¥æ ‘è“æ´¾ä¸åŠ æ‰©å±•æ¿çš„æƒ…å†µä¸‹ æ²¡æœ‰ç¡¬ä»¶RTCæ—¶é’Ÿï¼Œä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡å¼€æœºéƒ½è¦è®¾ç½®æ—¶é’Ÿï¼Œè¿™ç‰¹ä¹ˆå¯ä¸‡ä¸‡ä¸èƒ½å¤Ÿå•Šï¼Œä»¥ä¸‹ä¸ºè®¾ç½®å¼€æœºè‡ªåŠ¨åŒæ­¥æ—¶é—´çš„æ–¹æ³•ï¼š</p>
</blockquote>

<ul>
  <li>å®‰è£…ntp</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get <span class="nb">install </span>ntpdate
</code></pre></div></div>

<ul>
  <li>è®¾ç½®æ—¶åŒº</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</span>
dpkg-reconfigure tzdata
<span class="c"># é€‰æ‹© Asia(äºšæ´²) ç„¶åé€‰æ‹© ShanHai(ä¸Šæµ·)</span>
</code></pre></div></div>

<ul>
  <li>æ‰‹åŠ¨æ ¡å¯¹æ—¶é—´</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ä¸€èˆ¬ä¸Šé¢è®¾ç½®å®Œå¸‚åŒºå°±åº”è¯¥å·²ç»è‡ªåŠ¨åŒæ­¥æ—¶é—´äº†</span>
<span class="c"># æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯èƒ½ä¼šæŠ¥socketå ç”¨ï¼Œå¯å¿½ç•¥</span>
<span class="c"># 210.72.145.44 å›½å®¶æˆæ—¶ä¸­å¿ƒæœåŠ¡å™¨IP</span>
ntpdate 210.72.145.44
</code></pre></div></div>

<ul>
  <li>è®¾ç½®å¼€æœºè‡ªåŠ¨æ ¡å¯¹æ—¶é—´</li>
</ul>

<blockquote>
  <p>ç¼–è¾‘ <code class="highlighter-rouge">/ect/rc.local</code> æ–‡ä»¶ æ‰§è¡Œ <code class="highlighter-rouge">vim /etc/rc.local</code>ï¼ŒåŠ å…¥ <code class="highlighter-rouge">htpdate -t -s 210.72.145.44</code> è¿™æ¡å‘½ä»¤ï¼Œæ³¨æ„è¦æ”¾åœ¨ <code class="highlighter-rouge">exit 0</code> å‰é¢ï¼Œæ ·ä¾‹é…ç½®å¦‚ä¸‹:</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh -e</span>

<span class="c"># æ­¤å¤„çœç•¥1000è¡Œæ³¨é‡Š.....</span>

<span class="c"># Sync Time</span>
htpdate <span class="nt">-t</span> <span class="nt">-s</span> 210.72.145.44

<span class="c"># Print the IP address</span>
<span class="nv">_IP</span><span class="o">=</span><span class="si">$(</span><span class="nb">hostname</span> <span class="nt">-I</span><span class="si">)</span> <span class="o">||</span> <span class="nb">true
</span><span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$_IP</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">printf</span> <span class="s2">"My IP address is %s</span><span class="se">\n</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$_IP</span><span class="s2">"</span>
<span class="k">fi

</span><span class="nb">exit </span>0
</code></pre></div></div>

<h3 id="åˆå¹¶å‰©ä½™åˆ†åŒºç©ºé—´">åˆå¹¶å‰©ä½™åˆ†åŒºç©ºé—´</h3>

<blockquote>
  <p>é»˜è®¤æ ‘è“æ´¾å®‰è£…ç³»ç»Ÿåå¹¶ä¸ä¼šå ç”¨æ‰€æœ‰SDå¡ç©ºé—´ï¼Œä¸€èˆ¬åªä¼šä½¿ç”¨4Gå·¦å³ï¼Œå¯¹äºå¤§å†…å­˜å¡æ¥è¯´å‰©ä¸‹çš„ç©ºé—´å±äºæœªåˆ†é…çŠ¶æ€ï¼Œå³æœªåˆ†åŒºæ— æ³•ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">fdisk</code> æ¥åˆå¹¶åé¢çš„åˆ†åŒºåŠ ä»¥åˆ©ç”¨</p>
</blockquote>

<h4 id="ä½¿ç”¨-raspi-config2016-08-13-æ›´æ–°">ä½¿ç”¨ raspi-config(2016-08-13 æ›´æ–°)</h4>

<p>æ¨èç›´æ¥ä½¿ç”¨æ ‘è“æ´¾æä¾›çš„å·¥å…·ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">raspi-config</code>ï¼Œç„¶åé€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œæç¤ºé€‰æ‹© OK ï¼Œæœ€ç»ˆ Finish å³å¯ã€‚</p>

<h4 id="ä½¿ç”¨-åˆ†åŒºå·¥å…·">ä½¿ç”¨ åˆ†åŒºå·¥å…·</h4>

<ul>
  <li>æŸ¥çœ‹åˆ†åŒºåŠèµ·å§‹å‚æ•°</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># è¿›å…¥fdisk</span>
fdisk /dev/mmcblk0
<span class="c"># æŒ‰ P æ˜¾ç¤ºåˆ†åŒºä¿¡æ¯ï¼Œå¹¶è®°å½• Type ä¸ºLinuxçš„åˆ†åŒºèµ·å§‹æŸ±é¢(122880)ï¼Œæ‰“å°å¦‚ä¸‹:</span>
Device         Boot  Start     End Sectors Size Id Type
/dev/mmcblk0p1        8192  122879  114688  56M  c W95 FAT32 <span class="o">(</span>LBA<span class="o">)</span>
/dev/mmcblk0p2      122880 8447999 8325120   4G 83 Linux
</code></pre></div></div>

<ul>
  <li>åˆ é™¤ ä¸»åˆ†åŒº(Linuxåˆ†åŒº)</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æŒ‰D å¹¶é€‰æ‹©åˆ é™¤åˆ†åŒº2ï¼Œå†æŒ‰P æŸ¥çœ‹åˆ†åŒºä¿¡æ¯ï¼Œæ‰“å°å¦‚ä¸‹:</span>
Command <span class="o">(</span>m <span class="k">for </span><span class="nb">help</span><span class="o">)</span>: d
Partition number <span class="o">(</span>1,2, default 2<span class="o">)</span>: 2

Partition 2 has been deleted.

Command <span class="o">(</span>m <span class="k">for </span><span class="nb">help</span><span class="o">)</span>: p
Disk /dev/mmcblk0: 28.8 GiB, 30908350464 bytes, 60367872 sectors
Units: sectors of 1 <span class="k">*</span> 512 <span class="o">=</span> 512 bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512 bytes / 512 bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: 512 bytes / 512 bytes
Disklabel <span class="nb">type</span>: dos
Disk identifier: 0xba2edfb9

Device         Boot Start    End Sectors Size Id Type
/dev/mmcblk0p1       8192 122879  114688  56M  c W95 FAT32 <span class="o">(</span>LBA<span class="o">)</span>
</code></pre></div></div>

<ul>
  <li>å¢åŠ æ–°åˆ†åŒº</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æŒ‰N æ‰§è¡Œæ–°å»ºåˆ†åŒºï¼Œå†æŒ‰P é€‰æ‹©å¢åŠ ä¸»åˆ†åŒºï¼Œå¹¶è¾“å…¥èµ·å§‹æŸ±é¢(122880)ï¼Œæ‰“å°å¦‚ä¸‹:</span>
Command <span class="o">(</span>m <span class="k">for </span><span class="nb">help</span><span class="o">)</span>: n
Partition <span class="nb">type
   </span>p   primary <span class="o">(</span>1 primary, 0 extended, 3 free<span class="o">)</span>
   e   extended <span class="o">(</span>container <span class="k">for </span>logical partitions<span class="o">)</span>
Select <span class="o">(</span>default p<span class="o">)</span>: p
Partition number <span class="o">(</span>2-4, default 2<span class="o">)</span>: 2
First sector <span class="o">(</span>2048-60367871, default 2048<span class="o">)</span>: 122880
Last sector, +sectors or +size<span class="o">{</span>K,M,G,T,P<span class="o">}</span> <span class="o">(</span>122880-60367871, default 60367871<span class="o">)</span>:

Created a new partition 2 of <span class="nb">type</span> <span class="s1">'Linux'</span> and of size 28.7 GiB.
</code></pre></div></div>

<ul>
  <li>æ‰§è¡Œå¢åŠ åˆ†åŒºæ“ä½œ</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># é¦–å…ˆæŒ‰P æŸ¥çœ‹ä¸€ä¸‹ï¼Œç¡®è®¤åˆ†åŒºå¢åŠ æ— è¯¯ï¼Œç„¶åæŒ‰W æ‰§è¡Œåˆ†åŒºæ“ä½œï¼Œæ‰“å°å¦‚ä¸‹:</span>
Command <span class="o">(</span>m <span class="k">for </span><span class="nb">help</span><span class="o">)</span>: p
Disk /dev/mmcblk0: 28.8 GiB, 30908350464 bytes, 60367872 sectors
Units: sectors of 1 <span class="k">*</span> 512 <span class="o">=</span> 512 bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512 bytes / 512 bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: 512 bytes / 512 bytes
Disklabel <span class="nb">type</span>: dos
Disk identifier: 0xba2edfb9

Device         Boot  Start      End  Sectors  Size Id Type
/dev/mmcblk0p1        8192   122879   114688   56M  c W95 FAT32 <span class="o">(</span>LBA<span class="o">)</span>
/dev/mmcblk0p2      122880 60367871 60244992 28.7G 83 Linux


Command <span class="o">(</span>m <span class="k">for </span><span class="nb">help</span><span class="o">)</span>: w
The partition table has been altered.
<span class="c"># æ­¤å¤„è¯´æ˜ è®¾å¤‡å¿™ç¢Œï¼Œæ–°çš„åˆ†åŒºè¡¨å°†åœ¨ä¸‹æ¬¡é‡å¯ç”Ÿæ•ˆ</span>
Calling ioctl<span class="o">()</span> to re-read partition table.
Re-reading the partition table failed.: Device or resource busy

The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe<span class="o">(</span>8<span class="o">)</span> or kpartx<span class="o">(</span>8<span class="o">)</span><span class="nb">.</span>
</code></pre></div></div>

<ul>
  <li>é‡å¯å¹¶æ‰§è¡Œåˆ†åŒºä¿®å¤</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ç”±äºä¸Šé¢å·²ç»æç¤ºäº†é‡å¯ç”Ÿæ•ˆï¼Œæ‰€ä»¥æ‰§è¡Œé‡å¯å‘½ä»¤</span>
reboot
<span class="c"># é‡å¯åéœ€è¦è¿›è¡Œä¸€æ¬¡åˆ†åŒºä¿®å¤ï¼Œå¦åˆ™dfæŸ¥çœ‹ç£ç›˜å ç”¨æ˜¯ä¸å˜çš„ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¿®å¤åˆ†åŒº</span>
resize2fs /dev/mmcblk0p2
<span class="c"># æ‰§è¡ŒæˆåŠŸåä½¿ç”¨dfæŸ¥çœ‹åˆ†åŒºå ç”¨æƒ…å†µï¼Œæ‰“å°å¦‚ä¸‹:</span>
<span class="o">[</span>root@raspberrypi ~]# <span class="nb">df
</span>Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/root       29586708 3255252  25069844  12% /
devtmpfs          469756       0    469756   0% /dev
tmpfs             474060       0    474060   0% /dev/shm
tmpfs             474060    6412    467648   2% /run
tmpfs               5120       4      5116   1% /run/lock
tmpfs             474060       0    474060   0% /sys/fs/cgroup
/dev/mmcblk0p1     57288   20232     37056  36% /boot
tmpfs              94812       0     94812   0% /run/user/1000
</code></pre></div></div>

<h3 id="å®‰è£…lrzszå¿«æ·ä¸Šä¼ ä¸‹è½½">å®‰è£…lrzsz(å¿«æ·ä¸Šä¼ ä¸‹è½½)</h3>

<blockquote>
  <p>æ“ä½œç®€å•ï¼Œä½†å¤§æœ‰ç”¨å¤„ï¼Œæ‰§è¡Œä¸€æ¡å‘½ä»¤ <code class="highlighter-rouge">apt-get install lrzsz</code> å°±å®‰è£…æˆåŠŸäº†ï¼›ä½œç”¨å°±æ˜¯åœ¨ä½¿ç”¨xShellé€šè¿‡sshè¿æ¥åˆ°æ ‘è“æ´¾åï¼Œä¸Šä¼ æ–‡ä»¶åªéœ€è¦æ•² <code class="highlighter-rouge">rz</code> å‘½ä»¤å°±ä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œé€‰æ‹©æ–‡ä»¶åå°±ç›´æ¥ä¸Šä¼ åˆ°å½“å‰shellæ˜¾ç¤ºçš„ç›®å½•ä¸‹äº†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å°†æ–‡ä»¶æ‹–å‘å‘½ä»¤è¡Œï¼Œä¹Ÿä¼šç›´æ¥å°†æ–‡ä»¶ä¸Šä¼ åˆ°å½“å‰ç›®å½•ï¼›ä¸‹è½½çš„è¯ç›´æ¥æ•² <code class="highlighter-rouge">sz FILENAME</code> å°±ä¼šé©¬ä¸Šå¼¹å‡ºä¸‹è½½é€‰æ‹©æ¡†ï¼Œé€‰æ‹©åˆ°å“ªå°±ä¼šä¸‹è½½åˆ°é‚£ä¸ªç›®å½•ï¼Œå¥æ˜¯è¿™ä¹ˆåŠï¼</p>
</blockquote>

<h3 id="åˆ‡æ¢å›½å†…æº">åˆ‡æ¢å›½å†…æº</h3>

<p>é»˜è®¤æ ‘è“æ´¾è¿æ¥çš„æºæ˜¯å®˜æ–¹æºï¼Œå…¶æœåŠ¡å™¨åœ¨ç¾å›½ï¼Œç„¶åä½ æ‡‚å¾—â€¦â€¦ç¼–è¾‘ <code class="highlighter-rouge">/etc/apt/sources.list</code> æ³¨é‡Šæ‰å…¶ä»–æºï¼Œä» <a href="http://www.raspbian.org/RaspbianMirrors">æ ‘è“æ´¾æºåˆ—è¡¨</a> ä¸­é€‰æ‹©ä¸€ä¸ªå¡«å…¥ï¼Œç„¶å <code class="highlighter-rouge">apt-get update</code> å³å¯ï¼Œä»¥ä¸‹ä¸º <code class="highlighter-rouge">/etc/apt/sources.lis</code> æ–‡ä»¶å‚è€ƒ(æ¸…åå¤§å­¦æº)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#deb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi</span>
<span class="c"># Uncomment line below then 'apt-get update' to enable 'apt-get source'</span>
<span class="c">#deb-src http://archive.raspbian.org/raspbian/ jessie main contrib non-free rpi</span>
deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ jessie main non-free contrib
deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ jessie main non-free contrib
</code></pre></div></div>

<h3 id="ç¼–è¯‘å¹¶å®‰è£…nginx">ç¼–è¯‘å¹¶å®‰è£…Nginx</h3>

<blockquote>
  <p>ç”±äºåšJ2EEå¼€å‘ï¼Œæƒ³æä¸ªNginxï¼Œso é¼“æ£å§â€¦â€¦</p>
</blockquote>

<ul>
  <li>ä¸‹è½½ç›¸å…³ç»„ä»¶æºç </li>
</ul>

<blockquote>
  <p>Nginx ç¼–è¯‘å®‰è£…éœ€è¦ å¦‚ä¸‹æ”¯æŒ
gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel
é»˜è®¤gccæ ‘è“æ´¾å·²ç»è‡ªå¸¦äº†ï¼Œå‰©ä¸‹çš„ pcreã€zlibã€openssl éœ€è¦è‡ªå·±ä¸‹è½½ï¼Œä¸‹è½½åœ°å€: <a href="http://www.pcre.org/">pcre</a>ã€<a href="http://www.zlib.net/">zlib</a>ã€<a href="https://www.openssl.org/source/">openssl</a>ã€<a href="http://nginx.org/en/download.html">Nginx</a></p>
</blockquote>

<ul>
  <li>è§£å‹ç›¸å…³ç»„ä»¶</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ä¸‹è½½ä¸‹æ¥æƒ³åŠæ³•æåˆ°æ ‘è“æ´¾ä¸Šï¼Œç„¶åè§£å‹</span>
<span class="nb">tar</span> <span class="nt">-zxvf</span> openssl-1.0.2d.tar.gz
<span class="nb">tar</span> <span class="nt">-zxvf</span> pcre-8.37.tar.gz
<span class="nb">tar</span> <span class="nt">-zxvf</span> zlib-1.2.8.tar.gz
<span class="nb">tar</span> <span class="nt">-zxvf</span> nginx-1.8.0.tar.gz
</code></pre></div></div>

<ul>
  <li>æ‰§è¡Œç¼–è¯‘å®‰è£…</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># é¦–å…ˆè¿›å…¥åˆ° nginxç›®å½•</span>
<span class="nb">cd </span>nginx-1.8.0
<span class="c"># æ‰§è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å‚æ•°å¦‚ä¸‹:</span>
./configure
<span class="nt">--sbin-path</span><span class="o">=</span>/usr/local/nginx/nginx
<span class="nt">--conf-path</span><span class="o">=</span>/usr/local/nginx/nginx.conf
<span class="nt">--pid-path</span><span class="o">=</span>/usr/local/nginx/nginx.pid
<span class="nt">--with-http_ssl_module</span>
<span class="nt">--with-pcre</span><span class="o">=</span>../pcre-8.37
<span class="nt">--with-zlib</span><span class="o">=</span>../zlib-1.2.8
<span class="nt">--with-openssl</span><span class="o">=</span>../openssl-1.0.2d
<span class="c"># æœ€åå®‰è£…(æ—¶é—´æœ‰ç‚¹é•¿......)</span>
make <span class="o">&amp;&amp;</span> make <span class="nb">install</span>
</code></pre></div></div>

<h3 id="å®‰è£…èŠ±ç”Ÿå£³å†…ç½‘ç©¿é€">å®‰è£…èŠ±ç”Ÿå£³(å†…ç½‘ç©¿é€)</h3>

<blockquote>
  <p>ä½œä¸ºä¸€å Java Webç‹—ï¼ŒNginxã€Tomcatå·²ç»æèµ·äº†ï¼Œåªèƒ½å†…ç½‘è®¿é—®æ€ä¹ˆå¯ä»¥ï¼›æ‰€ä»¥å¿…é¡»æä¸€ä¸ª èŠ±ç”Ÿå£³åšå†…ç½‘æ˜ å°„ï¼Œä½¿ä¹‹é€šè¿‡åŸŸåå¯ç›´æ¥ä»å¤–ç½‘è®¿é—®åˆ°å†…ç½‘ä¸‹çš„æ ‘è“æ´¾ä¸­éƒ¨ç½²çš„é¡¹ç›®ã€‚</p>
</blockquote>

<ul>
  <li>ä¸‹è½½èŠ±ç”Ÿå£³å¹¶è§£å‹</li>
</ul>

<blockquote>
  <p>èŠ±ç”Ÿå£³æ ‘è“æ´¾ç‰ˆä¸‹è½½åœ°å€: <a href="http://hsk.oray.com/download/#type=http|shumeipai">ç‚¹å‡»ä¸‹è½½</a>
ä¸‹è½½åä¸Šä¼ åˆ°æ ‘è“æ´¾ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">tar -zxvf phddns_raspberry.tgz</code> è§£å‹æ–‡ä»¶</p>
</blockquote>

<ul>
  <li>å®‰è£…å¹¶è¿è¡ŒèŠ±ç”Ÿå£³</li>
</ul>

<blockquote>
  <p>è§£å‹åä¼šç”Ÿæˆ <code class="highlighter-rouge">phddns2</code> ç›®å½•ï¼Œ<code class="highlighter-rouge">cd</code> è¿›å»ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">./oraynewph start</code> å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œå®‰è£…å®Œæˆåå±å¹•ä¸Šä¼šæ˜¾ç¤ºå‡ è¡Œä¿¡æ¯ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ <strong>SNç </strong>ï¼Œè®°å½•ä¸‹è¿™ä¸ª <strong>SNç </strong>ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸²å¤æ‚çš„ç±»ä¼¼äºmd5çš„å­—ç¬¦ä¸²
ç„¶åè¿›å…¥ <a href="http://b.oray.com">b.oray.com</a> ï¼Œé€‰æ‹©ä½¿ç”¨ <strong>SNç </strong> ç™»å½•ï¼Œé»˜è®¤å¯†ç æ˜¯adminï¼Œ<strong><em>æ³¨æ„ï¼šæ­¤æ—¶æ ‘è“æ´¾å¿…é¡»æˆåŠŸè¿æ¥å¤–ç½‘ï¼Œå¦åˆ™æ— æ³•ç™»é™†</em></strong>ï¼Œç™»å½•å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
</blockquote>

<blockquote>
  <p><img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_oray_login.png" alt="ç™»å½•" /></p>
</blockquote>

<blockquote>
  <p>ç™»é™†åé¦–å…ˆé€‰æ‹© <strong><em>åŠ¨æ€åŸŸåè§£æ</em></strong> ï¼Œç„¶å <strong><em>æ³¨å†Œä¸€ä¸ªå£³åŸŸå</em></strong> ï¼Œå†å›åˆ°é¦–é¡µé€‰æ‹© <strong><em>å†…ç½‘æ˜ å°„</em></strong> ï¼Œé…ç½®ä¸€ä¸ªåŸŸåå†…ç½‘æ˜ å°„å³å¯ï¼Œæ˜ å°„é…ç½®å¦‚ä¸‹å›¾:</p>
</blockquote>

<blockquote>
  <p><img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_oray_netmapper.png" alt="å†…ç½‘æ˜ å°„é…ç½®" /></p>
</blockquote>

<blockquote>
  <p>å…¶ä»–å…³äºæ›´è¯¦ç»†çš„èŠ±ç”Ÿå£³ä½¿ç”¨æ•™ç¨‹è¯·è°·æ­Œï¼Œå®‰è£…æ•™ç¨‹å‚è€ƒ <a href="http://service.oray.com/question/2680.html">è¿™é‡Œ</a>ï¼Œæœ€åé™„ä¸Šä¸€å¼ è£…å¥½é€¼çš„æˆªå›¾:</p>
</blockquote>

<blockquote>
  <p><img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_oray_netmapperopen.png" alt="åŠ¨æ€åŸŸåè®¿é—®æ ‘è“æ´¾Nginx" /></p>
</blockquote>

<h3 id="ç¼–è¯‘å®‰è£…nexus">ç¼–è¯‘å®‰è£…Nexus</h3>

<blockquote>
  <p>ç”±äºç°åœ¨é¡¹ç›®éƒ½ä½¿ç”¨Mavenï¼Œæ‰€ä»¥ä¹Ÿæƒ³æä¸€ä¸ªç§æœNexusï¼Œæ— å¥ˆNexuså®˜æ–¹äºŒè¿›åˆ¶åŒ…ä¸­å¹¶ä¸æä¾› armå¹³å°æ”¯æŒï¼Œä¸»è¦æ˜¯wrapper æ²¡æœ‰armå¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶å’ŒåŠ¨æ€é“¾æ¥åº“ï¼Œæ•…éœ€è¦è‡ªå·±ç¼–è¯‘wrapperï¼Œæ‰€ä»¥æœ‰äº† â€œç¼–è¯‘å®‰è£…Nexusâ€ è¿™ä¸€è¯´æ³•ã€‚</p>
</blockquote>

<ul>
  <li>ä¸‹è½½ Nexus</li>
</ul>

<blockquote>
  <p>ç™»å½• <a href="http://www.sonatype.org/nexus/go/">Nexuså®˜ç½‘</a> é€‰æ‹© TGZ æ ¼å¼ä¸‹è½½ï¼Œä¸Šä¼ åˆ° æ ‘è“æ´¾å¹¶è§£å‹ï¼Œç„¶å mv åˆ°ä½ æƒ³è¦æ”¾ç½®çš„ç›®å½•ã€‚é…ç½®ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œæ ·ä¾‹å¦‚ä¸‹ : <code class="highlighter-rouge">export NEXUS_HOME='/usr/local/java/nexus/nexus-2.11.4-01'</code>ï¼Œå¹¶å°† <code class="highlighter-rouge">$NEXUS_HOME/bin</code> åŠ å…¥åˆ° <code class="highlighter-rouge">PATH</code> ä¸­ã€‚</p>
</blockquote>

<ul>
  <li>ä¸‹è½½wrapper</li>
</ul>

<blockquote>
  <p>ä¸ºä½•éœ€è¦ä¸‹è½½ <code class="highlighter-rouge">wrapper</code> : <code class="highlighter-rouge">nexus</code> æœ¬èº«ç¡®å®è‡ªå¸¦äº† <code class="highlighter-rouge">wrapper</code>ï¼Œä½† <code class="highlighter-rouge">wrapper</code> è¿™ç©æ„æ˜¯è·Ÿå¹³å°ç»“åˆçš„ï¼Œç›®å‰ <code class="highlighter-rouge">Nexus</code> ä¸æ”¯æŒ <code class="highlighter-rouge">arm</code> å¹³å°ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ªæ›¿æ¢ <code class="highlighter-rouge">Nexu</code> ä¸­çš„ <code class="highlighter-rouge">wrapper</code>ã€‚
<em>**</em></p>
  <ol>
    <li>ç›®å‰ä¸‹è½½çš„æœ€æ–°ç‰ˆ Nexus-2.11.4-01 ä¾èµ–çš„æ˜¯ wrapper3.2.3ï¼Œä¸‹è½½åœ°å€ <a href="http://wrapper.tanukisoftware.com/download/3.5.9/wrapper_3.5.9_src.tar.gz?mode=html">ç‚¹è¿™é‡Œ</a> <strong><em>(æ³¨æ„æˆ‘ä»¬ä¸‹è½½çš„äº‹3.5.9ç‰ˆæœ¬)</em></strong>ã€‚</li>
    <li>ä¸‹è½½å®Œ src æºç åŒ…åä¸Šä¼ åˆ°æ ‘è“æ´¾å¹¶è§£å‹ï¼Œåœ¨å¼€å§‹ç¼–è¯‘å‰ï¼Œéœ€è¦æ­£ç¡®çš„é…ç½®<code class="highlighter-rouge">JAVA_HOME</code> å’Œ <code class="highlighter-rouge">PATH</code>ï¼Œè¿™é‡Œæœ‰ä¸ªå°é—®é¢˜ï¼Œæ ‘è“æ´¾2è‡ªå¸¦äº†JDK8ï¼Œä½† <code class="highlighter-rouge">JAVA_HOME</code> å•¥çš„æ²¡é…ç½®ï¼Œæ‰€ä»¥ä¼šæœ‰é—®é¢˜ï¼›ä½†ç›´æ¥å¸è½½çš„è¯ <code class="highlighter-rouge">apt-get</code> ä¼šè‡ªåŠ¨ç»™ä½ å®‰è£… <code class="highlighter-rouge">open-jdk7</code>ï¼Œå¯æ‰§è¡Œ <code class="highlighter-rouge">apt-cache rdepends oracle-java8-jdk</code> æŸ¥çœ‹ä¾èµ– <code class="highlighter-rouge">jdk</code> çš„ç›¸å…³è½¯ä»¶åŒ…ï¼Œå¹¶æ‰§è¡Œ <code class="highlighter-rouge">apt-get purge xxxxx</code> å¸è½½ä»–ä»¬ï¼ŒåŸºæœ¬è¿™äº›è½¯ä»¶åŒ…éƒ½æ˜¯æ•™å­¦ç”¨çš„ï¼Œå¯ä»¥åˆ æ‰ï¼›ç„¶åè‡ªå·±ä¸‹è½½ <code class="highlighter-rouge">arm</code> å¹³å°çš„ <code class="highlighter-rouge">jdk7</code> (æ„Ÿè§‰8å¤ªæ–°äº†æ€•ä¸ç¨³å®š) å®‰è£…ã€é…ç½®ç¯å¢ƒã€‚</li>
  </ol>
</blockquote>

<ul>
  <li>ç¼–è¯‘ wrapper</li>
</ul>

<blockquote>
  <ol>
    <li>é…ç½®å®Œ <code class="highlighter-rouge">JAVA_HOME</code>ã€<code class="highlighter-rouge">PATH</code> å˜é‡ä»¥åè¿˜éœ€è¦ä¸‹è½½ä¸€ä¸ª <code class="highlighter-rouge">Ant</code>ï¼Œå› ä¸º <code class="highlighter-rouge">wrapper</code> æ˜¯åŸºäº <code class="highlighter-rouge">Ant</code> æ„å»ºçš„ï¼ŒåŸºæœ¬æ­¥éª¤ä¹Ÿæ˜¯ã€‚ <a href="http://ant.apache.org/bindownload.cgi">ä¸‹è½½Ant</a> ç„¶åè§£å‹åˆ°æŒ‡å®šç›®å½•ï¼Œé…ç½®ä¸€ä¸‹ <code class="highlighter-rouge">ANT_HOME</code>ï¼Œæ–¹æ³•è‡ªæŸ¥ã€‚</li>
    <li>åœ¨æ­£å¼ç¼–è¯‘å‰éœ€è¦ <code class="highlighter-rouge">cp src/c/Makefile-linux-x86-32.make</code> to <code class="highlighter-rouge">src/c/Makefile-linux-arm-32.make</code> (è€å¤–çš„åŸæ–‡ï¼Œè¯´æ¥äº†å°±æ˜¯ <code class="highlighter-rouge">copy</code> ä¸€ä»½åˆ°å½“å‰ç›®å½•å¹¶é‡å‘½åä¸€ä¸‹)ã€‚</li>
    <li>è¿›å…¥åˆ° <code class="highlighter-rouge">wrapper</code> è§£å‹åçš„ç›®å½•æ‰§è¡Œ <code class="highlighter-rouge">./build32.sh</code> è¿›è¡Œç¼–è¯‘ï¼Œå¦‚æœ <code class="highlighter-rouge">JAVA_HOME</code>ã€<code class="highlighter-rouge">PATH</code>ã€<code class="highlighter-rouge">Ant</code>ã€<code class="highlighter-rouge">.make æ–‡ä»¶</code> æ²¡é—®é¢˜çš„è¯ç¼–è¯‘ä¸€èˆ¬ä¸ä¼šå‡ºé”™ã€‚</li>
    <li>ç¼–è¯‘å®Œæˆååœ¨ <code class="highlighter-rouge">nexus-2.11.4-01/bin/jsw</code> ä¸‹æ–°å»ºä¸€ä¸ª <code class="highlighter-rouge">linux-armv7l-32</code> æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶ç¼–è¯‘å¥½çš„ <code class="highlighter-rouge">wrapper_3.5.9_src/bin/wrapper</code> æ–‡ä»¶åˆ° åˆšåˆšæ–°å»ºçš„ <code class="highlighter-rouge">linux-armv7l-32</code> ç›®å½•ä¸‹ï¼Œç”±äº<strong><em>ä½¿ç”¨äº†é«˜ç‰ˆæœ¬</em></strong> <code class="highlighter-rouge">wrapper</code>ï¼Œ<code class="highlighter-rouge">wrapper.jar</code> å¤åˆ¶è¿‡å»åéœ€è¦å…ˆåˆ æ‰åŸæ¥çš„ <code class="highlighter-rouge">wrapper-3.2.3.jar</code> å¹¶å°† <code class="highlighter-rouge">wrapper.jar</code> é‡å‘½åä¸º <code class="highlighter-rouge">wrapper-3.2.3.jar</code>ã€‚</li>
  </ol>
</blockquote>

<ul>
  <li>é…ç½®å¹¶å¯åŠ¨ Nexus</li>
</ul>

<blockquote>
  <ul>
    <li>æ–°å»ºç”¨æˆ· <code class="highlighter-rouge">nexus</code> : <code class="highlighter-rouge">adduser nexus</code> (åˆ«ç”¨ <code class="highlighter-rouge">useradd</code> æˆ‘ä¸€ç›´ä»¥ä¸ºè¿™ä¸¤ä¸ªå‘½ä»¤ä¸€æ ·ï¼Œä½†ä½ åœ¨æ ‘è“æ´¾2ä¸‹å¯ä»¥è¯•è¯•)</li>
    <li>æ”¹å¯†ç  : <code class="highlighter-rouge">passwd nexus</code></li>
    <li>æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶ : <code class="highlighter-rouge">nexus-2.11.4-01/bin/nexus</code>ã€<code class="highlighter-rouge">nexus-2.11.4-01/bin/jsw/conf/wrapper.conf</code>ï¼Œä¸¤ä¸ªé…ç½®è¦æ”¹çš„åœ°æ–¹è´´å‡ºæ¥å¦‚ä¸‹ (æ›´è¯¦ç»†çš„å‚è§ <a href="http://mritd.me/archives/2024">Nexus 2.11 CentOSæ­å»ºæ•™ç¨‹</a>) :</li>
  </ul>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">###############################</span>
<span class="c">## nexus-2.11.4-01/bin/nexus ##</span>
<span class="c">###############################</span>
<span class="c">#</span>
<span class="c"># Set the JVM executable</span>
<span class="c"># (modify this to absolute path if you need a Java that is not on the OS path)</span>
<span class="c"># é…ç½® jdkä¸­ java å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®(å…¶å®æˆ‘æ„Ÿè§‰jreå°±å¯ä»¥ï¼Œæ²¡æµ‹è¯•ï¼Œæœ‰å…´è¶£çš„æµ‹è¯•ä¸€ä¸‹)</span>
wrapper.java.command<span class="o">=</span>/usr/local/java/jdk1.7.0_79/bin/java
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">##############################################</span>
<span class="c">## nexus-2.11.4-01/bin/jsw/conf/wrapper.con ##</span>
<span class="c">##############################################</span>
<span class="c">#</span>
<span class="c"># Set this to the root of the Nexus installation</span>
<span class="c"># è®¾ç½® nexus ä¸»ç›®å½•ï¼Œå°±æ˜¯è§£å‹åçš„é‚£ä¸ª nexusç›®å½•ç»å¯¹è·¯å¾„</span>
<span class="nv">NEXUS_HOME</span><span class="o">=</span><span class="s2">"/usr/local/java/nexus-2.11.4-01"</span>
</code></pre></div></div>

<blockquote>
  <ul>
    <li>å…ˆåˆ‡æ¢åˆ° <code class="highlighter-rouge">nexus</code> ç”¨æˆ·ï¼Œå› ä¸ºå®˜æ–¹ä¸æ¨èä»¥ <code class="highlighter-rouge">root</code> ç”¨æˆ·è¿è¡Œï¼Œæ‰§è¡Œ : <code class="highlighter-rouge">su - nexus</code>ï¼Œç„¶åå¯åŠ¨ <code class="highlighter-rouge">nexus</code>ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">nexus start</code> å¯åŠ¨ï¼Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œå¤§çº¦2åˆ†é’Ÿï¼Œä½¿ç”¨ <code class="highlighter-rouge">tail -f nexus-2.11.4-01/logs/wrapper.log</code> æŸ¥çœ‹è¿›åº¦ï¼Œå¯åŠ¨æˆåŠŸåè®¿é—® <code class="highlighter-rouge">IP:8081/nexus</code> å³å¯ï¼Œé»˜è®¤ç”¨æˆ· <code class="highlighter-rouge">admin</code>ï¼Œå¯†ç  <code class="highlighter-rouge">admin123</code>ï¼›åˆ°æ­¤ç»“æŸã€‚</li>
  </ul>
</blockquote>

<h3 id="ç¼–è¯‘å®‰è£…mysql">ç¼–è¯‘å®‰è£…MySQL</h3>

<ul>
  <li>å®‰è£…Screen</li>
</ul>

<blockquote>
  <p>æ‰§è¡Œ <code class="highlighter-rouge">apt-get install screen</code> å®‰è£…screenï¼Œç”¨äºåå°è¿è¡Œç¼–è¯‘ä»»åŠ¡ï¼Œé˜²æ­¢æ–­ç½‘ç­‰åŸå› é€ æˆçš„ç¼–è¯‘å¤±è´¥ã€‚</p>
</blockquote>

<ul>
  <li>ä¸‹è½½MySQL5.6æºç </li>
</ul>

<blockquote>
  <p>å¯å»å®˜ç½‘ä¸‹è½½ï¼Œç™¾åº¦äº‘åˆ†äº« <a href="http://pan.baidu.com/s/1dDwPxRV">ç‚¹å‡»è¿™é‡Œ</a> å¯†ç : g2ab
ä¸‹è½½å®Œæˆåä¸Šä¼ åˆ°æ ‘è“æ´¾å¹¶è§£å‹</p>
</blockquote>

<ul>
  <li>ç³»ç»Ÿè®¾ç½®åˆå§‹åŒ–</li>
</ul>

<blockquote>
  <p>ç¼–è¯‘å‰éœ€è¦åšä»¥ä¸‹æ“ä½œ:</p>
</blockquote>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ–°å»ºmysqlç”¨æˆ·</span>
adduser mysql
<span class="c"># åˆ›å»ºMySQLå®‰è£…ç›®å½•</span>
<span class="nb">cd</span> /usr/local
<span class="nb">mkdir </span>mysql
<span class="nb">cd</span> /usr/local/mysql
<span class="nb">mkdir </span>data
</code></pre></div></div>

<ul>
  <li>å®‰è£…ä¾èµ–åŒ…</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># é¦–å…ˆå‡çº§è½¯ä»¶æº(å¦‚æœæ”¹è¿‡éå®˜æ–¹æºå¿…é¡»æ”¹å›æ¥)</span>
apt-get update
<span class="c"># å‡çº§å·²å®‰è£…è½¯ä»¶åŒ…</span>
apt-get upgrade
<span class="c"># å®‰è£…mysqlç¼–è¯‘æ—¶ä¾èµ–</span>
apt-get isntall cmake make bison bzr libncurses5-dev g++ libtinfo5 ncurses-bin libncurses5 libtinfo-dev
</code></pre></div></div>
<ul>
  <li>å¼€å§‹ç¼–è¯‘MySQL</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># è¿›å…¥æºç ç›®å½•</span>
<span class="nb">cd </span>mysql-5.6.27/
<span class="c"># å¼€å¯screen session é˜²æ­¢æ–­ç½‘ç­‰é€ æˆçš„å…ç–«ä¸­æ–­</span>
screen <span class="nt">-S</span> mysqlinstall
<span class="c"># æ‰§è¡Œ cmake é¢„ç¼–è¯‘(æœ€å°‘ä¸€å°æ—¶)</span>
cmake <span class="nt">-DCMAKE_INSTALL_PREFIX</span><span class="o">=</span>/usr/local/mysql <span class="nt">-DMYSQL_UNIX_ADDR</span><span class="o">=</span>/usr/local/mysql/data/mysql.sock <span class="nt">-DDEFAULT_CHARSET</span><span class="o">=</span>utf8 <span class="nt">-DDEFAULT_COLLATION</span><span class="o">=</span>utf8_general_ci <span class="nt">-DEXTRA_CHARSETS</span><span class="o">=</span>all <span class="nt">-DWITH_MYISAM_STORAGE_ENGINE</span><span class="o">=</span>1 <span class="nt">-DWITH_INNOBASE_STORAGE_ENGINE</span><span class="o">=</span>1 <span class="nt">-DWITH_MEMORY_STORAGE_ENGINE</span><span class="o">=</span>1 <span class="nt">-DWITH_READLINE</span><span class="o">=</span>1 <span class="nt">-DENABLED_LOCAL_INFILE</span><span class="o">=</span>1 <span class="nt">-DMYSQL_DATADIR</span><span class="o">=</span>/usr/local/mysql/data <span class="nt">-DMYSQL_USER</span><span class="o">=</span>mysql <span class="nt">-DWITH_DEBUG</span><span class="o">=</span>0
</code></pre></div></div>

<blockquote>
  <p>å…³äºcmakeé¢„ç¼–è¯‘å‚æ•°è®¾ç½®å‚è€ƒ <a href="http://ohgenlong16300.blog.51cto.com/499130/1264096">è¿™é‡Œ</a></p>
</blockquote>

<ul>
  <li>æ‰§è¡Œå®‰è£…</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="o">&amp;&amp;</span> make <span class="nb">install</span>
</code></pre></div></div>

<ul>
  <li>åç»­æ“ä½œ</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ›´æ”¹æ‰€æœ‰è€…</span>
<span class="nb">cd</span> /usr/local/
<span class="nb">chown</span> <span class="nt">-R</span> mysql.mysql mysql
<span class="c"># åˆ›å»ºé…ç½®æ–‡ä»¶</span>
<span class="nb">cd</span> /usr/local/mysql/support-files  
<span class="nb">cp </span>my-default.cnf  /etc/my.cnf
<span class="c"># åˆå§‹åŒ–æ•°æ®åº“</span>
<span class="nb">cd</span> /usr/local/mysql
./scripts/mysql_install_db <span class="nt">--user</span><span class="o">=</span>mysql
<span class="c"># å®‰å…¨å¯åŠ¨(åå°)</span>
/usr/local/mysql/bin/mysqld_safe <span class="nt">--user</span><span class="o">=</span>mysql <span class="nt">--port</span><span class="o">=</span>3306 <span class="nt">--sock</span><span class="o">=</span>/usr/local/mysql/data/mysql.sock &amp;
<span class="c"># å¼€æœºè‡ªå¯åŠ¨</span>
<span class="nb">cp</span> /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql
chkconfig <span class="nt">--add</span> mysql
</code></pre></div></div>

<blockquote>
  <p>mysql5.6çš„é»˜è®¤å‚æ•°è®¾ç½®é—®é¢˜ï¼Œæ›´æ”¹my.cnfï¼Œè°ƒæ•´ä»¥ä¸‹å‚æ•°
<code class="highlighter-rouge">performance_schema_max_table_instances=600</code>
<code class="highlighter-rouge">table_definition_cache=400</code>
<code class="highlighter-rouge">table_open_cache=256</code>
è¿™æ—¶mysqlå¯åŠ¨åå†…å­˜å°±åªå ç”¨40â€“60Må†…å­˜äº†</p>
</blockquote>

<h3 id="å®‰è£…-xrdpè¿œç¨‹æ¡Œé¢">å®‰è£… xrdpè¿œç¨‹æ¡Œé¢</h3>

<blockquote>
  <p>å…¶å®æ ‘è“æ´¾æ„Ÿè§‰æ²¡å¿…è¦ä¹°æ˜¾ç¤ºå™¨ï¼Œå› ä¸ºç›´æ¥å¯ä»¥å®‰è£…è¿œç¨‹æ¡Œé¢ï¼Œæ‰§è¡Œ <code class="highlighter-rouge">apt-get install xrdp</code> å®‰è£…ï¼Œåœ¨ <code class="highlighter-rouge">Windows</code> ä¸‹å¯ç›´æ¥ä½¿ç”¨è¿œç¨‹æ¡Œé¢è¿æ¥ï¼ŒæŒ‰ <code class="highlighter-rouge">Win+R</code> é”®è¾“å…¥ <code class="highlighter-rouge">mstsc</code>ï¼Œå†è¾“å…¥æ ‘è“æ´¾åœ°å€å’Œç”¨æˆ·åå¯†ç    å°±å¯ä»¥ï¼Œæˆªå›¾å¦‚ä¸‹:
<img src="http://7xoixd.com1.z0.glb.clouddn.com/raspberry_xrdp.png" alt="è¿œç¨‹æ¡Œé¢" />
è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
</blockquote>
:ET