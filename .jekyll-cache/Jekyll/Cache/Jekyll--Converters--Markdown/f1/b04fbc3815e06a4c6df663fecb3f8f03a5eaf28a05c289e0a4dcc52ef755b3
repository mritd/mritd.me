I"³1<p><img src="https://cdn.oss.link/markdown/Maven-Nexus-logo.png" alt="Nexus Logo" /></p>

<h3 id="ä¸€ç®€ä»‹">ä¸€ã€ç®€ä»‹</h3>

<blockquote>
  <p>Nexusæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„Mavenç§æœ‰æœåŠ¡å™¨ï¼Œç”¨è¿‡Mavençš„éƒ½çŸ¥é“ï¼Œä¸€èˆ¬å…¬å¸å¼€å‘éƒ½ä¼šæ­å»ºä¸€ä¸ªç§æœï¼›ç„¶åé¡¹ç›®ä¸­é€šè¿‡POMæ–‡ä»¶æˆ–è€…Mavençš„setting.xmlæŒ‡å‘ç§æœåœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡ç§æœç®¡ç†jaråŒ…ï¼›å¯è‡ªå®šä¹‰jaråŒ…åæ ‡ï¼Œé«˜æ•ˆçš„æ„å»ºé¡¹ç›®ã€‚</p>
</blockquote>

<!--more-->

<h3 id="äºŒå‰æœŸå‡†å¤‡">äºŒã€å‰æœŸå‡†å¤‡</h3>

<ol>
  <li>é¦–å…ˆï¼Œä½ å¾—æœ‰å°èƒ½è¿æ¥å…¬ç½‘çš„CentOSç³»ç»ŸæœåŠ¡å™¨(å¯ä½¿ç”¨è™šæ‹Ÿæœºï¼Œä½†ç½‘ç»œå¿…é¡»æ¡¥æ¥ï¼Œä¿è¯å†…ç½‘ç‹¬ç«‹IP)ã€‚</li>
  <li>ç„¶åä¸‹è½½jdkå’Œ nexus   <a href="http://apache.fayea.com/maven/maven-3/">Nexusä¸‹è½½åœ°å€</a></li>
  <li><strong>æ³¨æ„äº‹é¡¹ï¼š</strong>Nexus æœ‰å…¶å¯¹åº”çš„ jdkç‰ˆæœ¬ï¼Œè¯·å‚è€ƒå®˜ç½‘ï¼Œæˆªè‡³ç›®å‰æœ€é«˜ç‰ˆæœ¬2.11.4-01 éœ€è¦jdk7</li>
</ol>

<h3 id="ä¸‰æ­å»ºnexusç§æœ">ä¸‰ã€æ­å»ºNexusç§æœ</h3>

<blockquote>
  <p>å•°å—¦ä¸€å¥ï¼Œç”±äºä¹Ÿæ˜¯åˆšåˆšå¼€å§‹æï¼Œä»¥å‰è™½ç„¶æè¿‡ï¼Œä½†ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œé…ç½®å·²ç»å˜äº†ï¼›è¿˜æœ‰åˆšåˆšè¢«ä¸€ç¯‡åšå®¢å‘äº†ï¼›ç®—äº†ï¼Œä¸è¯´äº†ï¼Œéƒ½æ˜¯çœ¼æ³ªï¼Œå–ç“¶å…»ä¹å¤šå‹å‹æƒŠâ€¦â€¦</p>
</blockquote>

<ol>
  <li>é…ç½®jdkå’Œnexusç¯å¢ƒå˜é‡</li>
</ol>

<ul>
  <li>
    <p>é¦–å…ˆä¸Šä¼ jdkåˆ°LinuxæœåŠ¡å™¨(nexusé¡ºå¸¦ä¹Ÿä¼ ä¸Šå»)ï¼Œæ¨èxshellå·¥å…·ï¼Œå…ˆæ‰§è¡Œ <code class="highlighter-rouge">yum install lrzsz</code> ï¼Œç„¶åæŠŠjdkå¾€å‘½ä»¤è¡Œä¸€æ‹–å°±ä¸Šä¼ æˆåŠŸï¼Œå½“ç„¶ä½ æœ‰å…¶ä»–åŠæ³•æˆ‘ä¹Ÿä¸é˜»æ­¢ï¼Œåæ­£æä¸Šå»å°±è¡Œã€‚
<img src="https://cdn.oss.link/markdown/Maven-Nexus-uploadfileo.png" alt="Maven-Nexus-uploadfileo" /></p>
  </li>
  <li>
    <p>è§£å‹ jdk å’Œ nexus æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#è§£å‹ jdk</span>
<span class="nb">tar</span> <span class="nt">-zxvf</span> jdk-7u79-linux-x64.tar.gz
<span class="c">#è§£å‹ nexus</span>
<span class="nb">tar</span> <span class="nt">-zxvf</span> nexus-latest-bundle.tar.gz
</code></pre></div></div>

<ul>
  <li>
    <p>è§£å‹åå¦‚ä¸‹
<img src="https://cdn.oss.link/markdown/Maven-Nexus-unzipfile1.png" alt="Maven-Nexus-unzipfile1" /></p>
  </li>
  <li>åˆ›å»º å¹¶ç§»åŠ¨ è§£å‹åçš„ç›®å½•åˆ° /usr/local/java
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/local
<span class="nb">mkdir </span>java
<span class="nb">cd</span> ~
<span class="nb">mv </span>jdk1.7.0_79 /usr/local/java
<span class="nb">mv </span>nexus-2.11.4-01 /usr/loca/java
<span class="nb">mv </span>sonatype-work /usr/local/java
</code></pre></div>    </div>
  </li>
  <li>
    <p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹
<img src="https://cdn.oss.link/markdown/Maven-Nexus-mvfile.png" alt="Maven-Nexus-mvfile" /></p>
  </li>
  <li>
    <p>ç¼–è¾‘ /etc/profileï¼Œé…ç½®ç¯å¢ƒå˜é‡ï¼Œåœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹ å˜é‡(vimä¸ä¼šç”¨çš„ä¸‹é¢ä¸ç”¨çœ‹äº†)
<img src="https://cdn.oss.link/markdown/Maven-Nexus-path.png" alt="Maven-Nexus-path" /></p>
  </li>
  <li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°åˆå§‹åŒ–ç¯å¢ƒå˜é‡ï¼Œå¹¶æµ‹è¯•æ˜¯å¦æˆåŠŸ</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /etc/profile
javac <span class="nt">-version</span>
</code></pre></div></div>

<ul>
  <li>è¿”å› javac ç‰ˆæœ¬æœªæˆåŠŸï¼Œè‹¥å‡ºç° â€œcommand not foundâ€ è¯´æ˜é…ç½®ä¸æˆåŠŸï¼Œæ£€æŸ¥ç¯å¢ƒå˜é‡ä½ç½®ã€‚</li>
</ul>

<ol>
  <li>é…ç½®nexus</li>
</ol>

<blockquote>
  <p>ä¸Šé¢çš„ä¼°è®¡ç©è¿‡Linuxçš„åŸºæœ¬éƒ½èƒ½è½»æ¾æå®šï¼Œè¯´ç™½äº†Nexusä¸»è¦æ˜¯ä¸‹é¢çš„é…ç½®</p>
</blockquote>

<ul>
  <li>é…ç½®nexuså¯åŠ¨æ–‡ä»¶</li>
</ul>

<blockquote>
  <p>ç¼–è¾‘ /usr/local/java/nexus-2.11.4-01/bin ä¸‹çš„ nexus å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸»è¦é…ç½®éƒ¨åˆ†æ ·ä¾‹å¦‚ä¸‹</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#-----------------------------------------------------------------------------</span>
<span class="c"># These settings can be modified to fit the needs of your application</span>

<span class="c"># Set this to the root of the Nexus installation</span>
<span class="c"># è®¾ç½® nexus ä¸»ç›®å½•ï¼Œå°±æ˜¯è§£å‹åçš„é‚£ä¸ª nexusç›®å½•ç»å¯¹è·¯å¾„</span>
<span class="nv">NEXUS_HOME</span><span class="o">=</span><span class="s2">"/usr/local/java/nexus-2.11.4-01"</span>

<span class="c"># If specified, the Wrapper will be run as the specified user.</span>

<span class="c"># IMPORTANT - Make sure that the user has the required privileges to write into the Nexus installation directory.</span>

<span class="c"># NOTE - This will set the user which is used to run the Wrapper as well as</span>
<span class="c">#  the JVM and is not useful in situations where a privileged resource or</span>
<span class="c">#  port needs to be allocated prior to the user being changed.</span>
<span class="c"># nexuså®˜æ–¹ä¸æ¨èä»¥root ç”¨æˆ·è¿è¡Œï¼Œå¦‚æœä½ éè¦è¿™ä¹ˆåšï¼Œä¸‹é¢æ³¨é‡Šå»æ‰ åé¢å¡«å†™root</span>
<span class="c">#RUN_AS_USER=</span>

<span class="c"># Application</span>
<span class="nv">APP_NAME</span><span class="o">=</span><span class="s2">"nexus"</span>
<span class="nv">APP_LONG_NAME</span><span class="o">=</span><span class="s2">"Nexus OSS"</span>

<span class="c"># Priority at which to run the wrapper.  See "man nice" for valid priorities.</span>
<span class="c">#  nice is only used if a priority is specified.</span>
<span class="c"># è¿™å—æˆ‘æŸ¥äº†ä¸€ä¸‹ å¥½åƒæ˜¯è®¾ç½®è¿è¡Œä¼˜å…ˆçº§ï¼Œé»˜è®¤10ï¼Œæ²¡å¤ªææ‡‚ï¼Œå¯ä¸å¡«</span>
<span class="nv">PRIORITY</span><span class="o">=</span>

<span class="c">#Location of the pid file.</span>
<span class="c"># nexus pid æ–‡ä»¶å­˜æ”¾ä½ç½® ä¸ç”¨æ”¹</span>
<span class="nv">PIDDIR</span><span class="o">=</span><span class="s2">"."</span>

<span class="c"># If uncommented, causes the Wrapper to be shutdown using an anchor file.</span>
<span class="c">#  When launched with the 'start' command, it will also ignore all INT and</span>
<span class="c">#  TERM signals.</span>
<span class="c">#IGNORE_SIGNALS=true</span>

<span class="c"># The following two lines are used by the chkconfig command. Change as is</span>
<span class="c">#  appropriate for your application.  They should remain commented.</span>
<span class="c"># chkconfig: 2345 20 80</span>
<span class="c"># description: Test Wrapper Sample Application</span>
</code></pre></div></div>
<ul>
  <li>é…ç½® /usr/local/java/nexus-2.11.4-01/bin/jsw/conf ä¸‹çš„ wrapper.conf æ–‡ä»¶</li>
</ul>

<blockquote>
  <p>å¦ˆè›‹ï¼Œæœ€å‘çš„å°±æ˜¯è¿™è´§ï¼Œé…ç½®æ ·ä¾‹å¦‚ä¸‹</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># JSW Configuration file</span>
<span class="c">#</span>
<span class="c"># For complete coverage of available configuration, please go here:</span>
<span class="c"># http://wrapper.tanukisoftware.org/doc/english/properties.html</span>
<span class="c">#</span>
<span class="c"># Some "most often used" keywords are added to end of this file</span>
<span class="c"># to be used as a "guideline". They are NOT the complete list of</span>
<span class="c"># keywords.</span>

<span class="c"># Set the JSW working directory (used as base for resolving relative paths)</span>
<span class="c"># è®¾ç½®wrapperçš„å·¥ä½œç›®å½• å…¶å®ä¹Ÿæ˜¯æŒ‡å‘ nexus ä¸»ç›®å½•å³å¯</span>
<span class="c"># å¦ˆè›‹çš„åœ°å€æˆ‘å°±ä¸è¯´äº†ï¼Œåˆšåˆšä¸€ä¸ªåšä¸»å‘Šè¯‰æˆ‘æŠŠä»–æŒ‡å‘ /usr/local/java/nexus-2.11.4-01/bin/jsw/linux-x86-64</span>
<span class="c"># æˆ‘è¿›å»ä¸€çœ‹ é‡Œé¢ç¡®å®æœ‰ä¸ªwrapper å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå°±ç‰¹ä¹ˆä¿¡äº†ï¼Œç»“æœå„ç§æŠ¥é”™</span>
<span class="c"># ä¸å‡‘å·§ï¼Œæˆ‘ç‰¹ä¹ˆå±…ç„¶è¿˜çœ‹æ‡‚äº†ï¼Œå°±æ˜¯æ‰¾ä¸åˆ°javaç±»ï¼Œç„¶åæˆ‘å°±æ ¹æ®é”™è¯¯å„ç§æ”¹åº•ä¸‹é…ç½®çš„ç»å¯¹è·¯å¾„</span>
<span class="c"># æ”¹äº†åŠå¤©æˆ‘ç‰¹ä¹ˆæ„Ÿè§‰ä¸å¯¹å•Š...æ€ä¹ˆå…¶å®éƒ½æ˜¯åŸºäºé»˜è®¤å€¼å¾€ä¸Š è·³äº†å‡ å±‚ï¼Œå¦ˆçš„ç¬é—´é¢†æ‚Ÿ...</span>
wrapper.working.dir<span class="o">=</span>/usr/local/java/nexus-2.11.4-01

<span class="c"># Set the JVM executable</span>
<span class="c"># (modify this to absolute path if you need a Java that is not on the OS path)</span>
<span class="c"># é…ç½® jdkä¸­ java å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®(å…¶å®æˆ‘æ„Ÿè§‰jreå°±å¯ä»¥ï¼Œæ²¡æµ‹è¯•ï¼Œæœ‰å…´è¶£çš„æµ‹è¯•ä¸€ä¸‹)</span>
wrapper.java.command<span class="o">=</span>/usr/local/java/jdk1.7.0_79/bin/java

<span class="c"># The main class that JSW will execute within JVM</span>
<span class="c"># è¿™è´§ä¸è¦åŠ¨ï¼Œç›®æµ‹è¿™ä¸ªç©æ„åº”è¯¥åœ¨ä¸‹é¢çš„ wrapper-3.2.3.jar é‡Œé¢</span>
wrapper.java.mainclass<span class="o">=</span>org.sonatype.nexus.bootstrap.jsw.JswLauncher

<span class="c"># The JVM classpath</span>
<span class="c"># å¦‚æœä½ ä¸Šé¢çš„ wrapper.working.dir æ²¡é—®é¢˜è¿™å—å°±æ²¡é—®é¢˜...å†æ¬¡åæ§½ï¼Œå‘çˆ¹åšä¸»ï¼Œå®³å¾—æˆ‘ç¬¬ä¸€æ¬¡æŠŠè¿™éƒ½æ”¹æˆç»å¯¹è·¯å¾„äº†</span>
wrapper.java.classpath.1<span class="o">=</span>bin/jsw/lib/wrapper-3.2.3.jar
wrapper.java.classpath.2<span class="o">=</span>./lib/<span class="k">*</span>.jar
wrapper.java.classpath.3<span class="o">=</span>./conf/

<span class="c"># The library path</span>
<span class="c"># ä¸éœ€è¦åŠ¨ï¼Œä¸€äº›ä¾èµ–jaråŒ… ä¸‹é¢æœ‰è·¯å¾„é…ç½®çš„ï¼Œé»˜è®¤å€¼å…¶å®éƒ½æ˜¯åŸºäº wrapper.working.dir çš„</span>
<span class="c"># ä¹Ÿå°±æ˜¯è¯´ä¸€ä½†ä½  wrapper.working.dir é”™äº†ï¼Œå…¶ä»–çš„å°±éƒ½å¾—æ”¹</span>
wrapper.java.library.path.1<span class="o">=</span>bin/jsw/lib

<span class="c"># Additional JVM parameters (tune if needed, but match the sequence of numbers!)</span>
<span class="c"># ä¸€äº› jvm å‚æ•°ï¼Œé»˜è®¤å³å¯ï¼Œèƒ½ç©æ˜ç™½çš„ å¯ä»¥è‡ªå·±è°ƒä¼˜å•¥çš„ï¼Œä¸‹é¢çš„æœ‰èƒ½åŠ›å¯ä»¥è®¾ç½®ä¸€ä¸‹ï¼Œ</span>
<span class="c"># æä¸å®šçš„ å°±ä¸ç”¨å¾€ä¸‹çœ‹äº†......</span>
wrapper.java.additional.1<span class="o">=</span><span class="nt">-XX</span>:MaxPermSize<span class="o">=</span>192m
wrapper.java.additional.2<span class="o">=</span><span class="nt">-Djava</span>.io.tmpdir<span class="o">=</span>./tmp
wrapper.java.additional.3<span class="o">=</span><span class="nt">-Djava</span>.net.preferIPv4Stack<span class="o">=</span><span class="nb">true
</span>wrapper.java.additional.4<span class="o">=</span><span class="nt">-Dcom</span>.sun.jndi.ldap.connect.pool.protocol<span class="o">=</span><span class="s2">"plain ssl"</span>
wrapper.java.additional.4.stripquotes<span class="o">=</span>TRUE
<span class="c">#wrapper.java.additional.5=-Xdebug</span>
<span class="c">#wrapper.java.additional.6=-Xnoagent</span>
<span class="c">#wrapper.java.additional.7=-Djava.compiler=NONE</span>
<span class="c">#wrapper.java.additional.8=-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</span>
<span class="c">#wrapper.java.additional.9=-XX:+HeapDumpOnOutOfMemoryError</span>

wrapper.app.parameter.1<span class="o">=</span>./conf/jetty.xml
wrapper.app.parameter.2<span class="o">=</span>./conf/jetty-requestlog.xml

<span class="c">#ä¸‹é¢çš„éƒ½æ— éœ€æ›´æ”¹ï¼Œæš‚ä¸”çœç•¥......</span>
</code></pre></div></div>

<ul>
  <li>åˆ›å»º nexus ç”¨æˆ·</li>
</ul>

<blockquote>
  <p>nexus ä¸æ¨èä»¥rootç”¨æˆ·è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª nexus ç”¨æˆ·ï¼Œå®‰å…¨æ€§è¦æ±‚é«˜çš„å¯ä»¥æ§åˆ¶å…¶æ˜¯å¦å¯ç™»å½•ä»€ä¹ˆçš„ï¼Œæˆ‘è¿™é‡Œåªæ˜¯è‡ªå·±ç©ç©ï¼Œso å…è®¸ç™»å½•ã€‚</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>useradd nexus
passwd nexus
<span class="c">#è¾“å…¥2æ¬¡å¯†ç </span>
</code></pre></div></div>

<ol>
  <li>å¯åŠ¨nexus</li>
</ol>

<blockquote>
  <p>é¦–å…ˆåˆ‡æ¢åˆ° nexus ç”¨æˆ·ï¼Œç„¶åå¯åŠ¨nexus</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - nexus
<span class="c"># ç”±äºé…ç½®äº†PATHå˜é‡ï¼Œæ‰€ä»¥å¯åœ¨ä»»æ„ä½ç½®æ‰§è¡Œ nexuså‘½ä»¤</span>
nexus start
</code></pre></div></div>

<ul>
  <li>æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸ&amp;ç›‘æµ‹æ—¥å¿—</li>
</ul>

<blockquote>
  <p>è®¿é—® ip:8081/nexus ï¼›å¯åŠ¨æˆåŠŸçš„è¯ä¼šè¿›å…¥å¦‚ä¸‹ç•Œé¢</p>
</blockquote>

<p><img src="https://cdn.oss.link/markdown/Maven-Nexus-home-1024x436.png" alt="Maven-Nexus-home-1024x436" /></p>

<blockquote>
  <p>é»˜è®¤ç™»é™†è´¦æˆ·å¯†ç ä¸º  admin/admin123 ï¼›å¦‚å¯åŠ¨ä¸æˆåŠŸå¯æŸ¥çœ‹æ—¥å¿—</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>less /usr/local/java/nexus-2.11.4-01/logs/wrapper.log
</code></pre></div></div>

<blockquote>
  <p>åˆ°æ­¤ç»“æŸï¼Œå…³äºä»“åº“ä½¿ç”¨å•¥çš„ä¸ç®¡äº†â€¦
è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæœ¬æ–‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> åè®®æˆæƒ</p>
</blockquote>
:ET